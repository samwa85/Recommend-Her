import{f as L,r as l,j as s,B as j}from"./index-BdCLm_2q.js";import{B as S}from"./badge-DyNZl9wy.js";import{t as r,F as B,D as O,a as V,b as M,C as U}from"./ConfirmDialog-Cg1O1OVZ.js";import{k as H,l as J,h as X,m as i,A as W,i as $,n as q}from"./LoadingSkeleton-Bjl2B8jF.js";import{S as G}from"./StatusBadge-DL9Kg-YL.js";import{E as K}from"./eye-BGcKiBtJ.js";import{C as w}from"./circle-check-big-CeSEhlNP.js";import{C as Q}from"./circle-x-C_zPDZYB.js";import{T as N}from"./trash-2-DOJjAdpj.js";import{M as Y}from"./mail-DFPmZ15m.js";import{P as Z}from"./plus-BcHjMXQU.js";import"./tslib.es6-ywRZ5Esg.js";import"./input-CJTBT2o9.js";import"./parseISO--f4aoRI6.js";import"./index-p6lGUO2k.js";import"./index-C-e6FMg7.js";import"./index-DB36gIdi.js";import"./skeleton-BRfOg84M.js";import"./search-D_d7FJv8.js";import"./chevron-right-Dxt0Ltpk.js";import"./select-BnlIWH-n.js";import"./index-2gvreq7C.js";import"./check-D6d9sIwu.js";import"./funnel-DdenPZov.js";import"./calendar-BtdhrUPo.js";import"./separator-CgEPudON.js";import"./scroll-area-lJ7RbBUr.js";import"./phone-Bl3CEY2N.js";import"./loader-circle-CkulKoGi.js";import"./users-DZKOeETJ.js";import"./building-2-CR-r7spi.js";import"./message-square-BKrPQKGn.js";import"./shield-Bd7IaV_q.js";import"./bell-zZ1kEipe.js";const ee=[{key:"search",label:"Search",type:"search"},{key:"status",label:"Status",type:"select",options:Object.entries(q).map(([c,p])=>({value:c,label:p}))},{key:"industry",label:"Industry",type:"select",options:[{value:"Technology",label:"Technology"},{value:"Finance",label:"Finance"},{value:"Healthcare",label:"Healthcare"},{value:"Education",label:"Education"},{value:"Consulting",label:"Consulting"}]},{key:"company_size",label:"Company Size",type:"select",options:[{value:"1-10",label:"1-10 employees"},{value:"11-50",label:"11-50 employees"},{value:"51-200",label:"51-200 employees"},{value:"201-500",label:"201-500 employees"},{value:"500+",label:"500+ employees"}]},{key:"is_recruiter",label:"Type",type:"select",options:[{value:"true",label:"Recruiter"},{value:"false",label:"Direct Hire"}]}];function ze(){const[c,p]=L(),[u,y]=l.useState(null),[b,d]=l.useState(null),[t,f]=l.useState({status:c.get("status")||"",search:c.get("search")||"",industry:"",company_size:"",is_recruiter:""}),[T,g]=l.useState({page:1,perPage:10}),{data:m,isLoading:D,error:v,refresh:n}=H({filters:{status:t.status||void 0,search:t.search||void 0,industry:t.industry||void 0,company_size:t.company_size||void 0,is_recruiter:t.is_recruiter==="true"?!0:t.is_recruiter==="false"?!1:void 0},pagination:T,autoRefresh:!1}),{data:a,updateStatus:h,remove:E}=J(u),F=l.useMemo(()=>[{key:"full_name",header:"Contact",sortable:!0,render:e=>s.jsxs("div",{"code-path":"src/admin/pages/SponsorsPage.tsx:139:9",className:"flex items-center gap-3",children:[s.jsx("div",{"code-path":"src/admin/pages/SponsorsPage.tsx:140:11",className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white text-xs font-medium",children:e.full_name.split(" ").map(o=>o[0]).join("").slice(0,2).toUpperCase()}),s.jsxs("div",{"code-path":"src/admin/pages/SponsorsPage.tsx:143:11",children:[s.jsx("p",{"code-path":"src/admin/pages/SponsorsPage.tsx:144:13",className:"font-medium",children:e.full_name}),s.jsx("p",{"code-path":"src/admin/pages/SponsorsPage.tsx:145:13",className:"text-xs text-muted-foreground",children:e.job_title||"No title"})]})]})},{key:"company_name",header:"Company",sortable:!0,render:e=>s.jsxs("div",{"code-path":"src/admin/pages/SponsorsPage.tsx:155:9",children:[s.jsx("p",{"code-path":"src/admin/pages/SponsorsPage.tsx:156:11",className:"font-medium",children:e.company_name}),e.industry&&s.jsx(S,{"code-path":"src/admin/pages/SponsorsPage.tsx:158:13",variant:"outline",className:"text-xs mt-1",children:e.industry})]})},{key:"company_size",header:"Size",sortable:!0,render:e=>e.company_size||"-"},{key:"is_recruiter",header:"Type",sortable:!0,render:e=>e.is_recruiter?s.jsx(S,{"code-path":"src/admin/pages/SponsorsPage.tsx:176:9",variant:"secondary",children:"Recruiter"}):s.jsx(S,{"code-path":"src/admin/pages/SponsorsPage.tsx:178:9",variant:"outline",children:"Direct"})},{key:"status",header:"Status",sortable:!0,render:e=>s.jsx(G,{"code-path":"src/admin/pages/SponsorsPage.tsx:185:24",status:e.status,type:"sponsor"})},{key:"created_at",header:"Joined",sortable:!0,render:e=>X(e.created_at)}],[]),I=l.useMemo(()=>[{label:"View Details",icon:s.jsx(K,{"code-path":"src/admin/pages/SponsorsPage.tsx:199:13",className:"w-4 h-4"}),onClick:e=>y(e.id)},{label:"Activate",icon:s.jsx(w,{"code-path":"src/admin/pages/SponsorsPage.tsx:204:13",className:"w-4 h-4"}),onClick:async e=>{(await h(i.ACTIVE)).success?(r.success("Sponsor activated"),n()):r.error("Failed to activate sponsor")},disabled:e=>e.status===i.ACTIVE},{label:"Deactivate",icon:s.jsx(Q,{"code-path":"src/admin/pages/SponsorsPage.tsx:218:13",className:"w-4 h-4"}),onClick:async e=>{(await h(i.INACTIVE)).success?(r.success("Sponsor deactivated"),n()):r.error("Failed to deactivate sponsor")},disabled:e=>e.status===i.INACTIVE},{label:"Delete",icon:s.jsx(N,{"code-path":"src/admin/pages/SponsorsPage.tsx:232:13",className:"w-4 h-4"}),onClick:e=>d(e.id),variant:"destructive"}],[n]),A=(e,o)=>{const P={...t,[e]:o};f(P),g(x=>({...x,page:1}));const C=new URLSearchParams;Object.entries(P).forEach(([x,k])=>{k&&C.set(x,k)}),p(C)},_=()=>{f({status:"",search:"",industry:"",company_size:"",is_recruiter:""}),g(e=>({...e,page:1})),p(new URLSearchParams)},z=async()=>{if(!b)return;(await E()).success?(r.success("Sponsor deleted successfully"),n()):r.error("Failed to delete sponsor"),d(null)},R=a?[{key:"full_name",label:"Contact Name",type:"text",value:a.full_name},{key:"email",label:"Email",type:"email",value:a.email},{key:"phone",label:"Phone",type:"phone",value:a.phone},{key:"job_title",label:"Job Title",type:"text",value:a.job_title},{key:"company_name",label:"Company",type:"text",value:a.company_name},{key:"company_website",label:"Website",type:"link",value:a.company_website},{key:"company_size",label:"Company Size",type:"badge",value:a.company_size},{key:"industry",label:"Industry",type:"badge",value:a.industry},{key:"is_recruiter",label:"Type",type:"boolean",value:a.is_recruiter},{key:"focus_areas",label:"Focus Areas",type:"list",value:a.focus_areas},{key:"role_types",label:"Role Types",type:"list",value:a.role_types},{key:"sponsorship_amount",label:"Sponsorship",type:"text",value:a.sponsorship_amount},{key:"message",label:"Message",type:"text",value:a.message},{key:"created_at",label:"Joined",type:"date",value:a.created_at}]:[];return s.jsxs(W,{"code-path":"src/admin/pages/SponsorsPage.tsx:295:5",title:"Sponsors",subtitle:"Manage sponsor profiles and partnerships",actions:s.jsxs(j,{"code-path":"src/admin/pages/SponsorsPage.tsx:299:9",children:[s.jsx(Z,{"code-path":"src/admin/pages/SponsorsPage.tsx:300:11",className:"w-4 h-4 mr-2"}),"Add Sponsor"]}),children:[v&&s.jsxs("div",{"code-path":"src/admin/pages/SponsorsPage.tsx:307:9",className:"mb-4 p-4 rounded-lg bg-red-50 text-red-600 text-sm",children:[v,s.jsx(j,{"code-path":"src/admin/pages/SponsorsPage.tsx:309:11",variant:"link",onClick:n,className:"ml-2",children:"Retry"})]}),s.jsx(B,{"code-path":"src/admin/pages/SponsorsPage.tsx:316:7",filters:ee,values:t,onChange:A,onClear:_,className:"mb-6"}),D?s.jsx($,{"code-path":"src/admin/pages/SponsorsPage.tsx:326:9",columns:6,rows:5}):s.jsx(O,{"code-path":"src/admin/pages/SponsorsPage.tsx:328:9",data:m.data,columns:F,keyExtractor:e=>e.id,actions:I,pagination:{page:m.page,perPage:m.perPage,total:m.count,onPageChange:e=>g(o=>({...o,page:e}))},onRowClick:e=>y(e.id),emptyState:{title:"No sponsors found",description:"Try adjusting your filters or add new sponsors.",icon:s.jsx(V,{"code-path":"src/admin/pages/SponsorsPage.tsx:343:19",className:"w-10 h-10 text-muted-foreground/50"}),action:{label:"Clear Filters",onClick:_}}}),s.jsx(M,{"code-path":"src/admin/pages/SponsorsPage.tsx:353:7",isOpen:!!u,onClose:()=>y(null),title:a?.full_name||"Sponsor Details",subtitle:a?.company_name,status:a?{value:a.status,type:"sponsor"}:void 0,fields:R,actions:{primary:a?.status!==i.ACTIVE?{label:"Activate",icon:s.jsx(w,{"code-path":"src/admin/pages/SponsorsPage.tsx:363:19",className:"w-4 h-4"}),onClick:async()=>{(await h(i.ACTIVE)).success&&(r.success("Sponsor activated"),n())}}:void 0,secondary:[{label:"Send Email",icon:s.jsx(Y,{"code-path":"src/admin/pages/SponsorsPage.tsx:375:21",className:"w-4 h-4"}),onClick:()=>{a?.email&&(window.location.href=`mailto:${a.email}`)}},{label:"Delete",icon:s.jsx(N,{"code-path":"src/admin/pages/SponsorsPage.tsx:384:21",className:"w-4 h-4"}),onClick:()=>d(u)}]}}),s.jsx(U,{"code-path":"src/admin/pages/SponsorsPage.tsx:392:7",isOpen:!!b,onClose:()=>d(null),onConfirm:z,title:"Delete Sponsor",description:"Are you sure you want to delete this sponsor profile? This action cannot be undone.",confirmLabel:"Delete",variant:"danger"})]})}export{ze as default};
