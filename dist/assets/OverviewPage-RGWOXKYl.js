import{u as B,j as e,B as w,a as A}from"./index-BdCLm_2q.js";import{C as O,a as P,b as j,c as f,d as y}from"./index-DB36gIdi.js";import{B as K}from"./badge-DyNZl9wy.js";import{S as $}from"./scroll-area-lJ7RbBUr.js";import{A as _,a as G}from"./alert-Db2rDiTP.js";import{u as z,a as E,b as H,c as W,A as m,S as X,f as Y}from"./LoadingSkeleton-Bjl2B8jF.js";import{K as F,a as p,C as Q,b}from"./ChartCard-Wrrb9Is_.js";import{S as V}from"./StatusBadge-DL9Kg-YL.js";import{C as J}from"./circle-alert-Blid6a1F.js";import{U as Z}from"./users-DZKOeETJ.js";import{B as v}from"./building-2-CR-r7spi.js";import{M as L}from"./message-square-BKrPQKGn.js";import{M as h}from"./mail-DFPmZ15m.js";import{R as N,C as ee,X as se,Y as ae,T as C,P as te,a as re,b as ie}from"./PieChart-o4EiQKse.js";import{A as ne,a as k,U as S,b as T}from"./AreaChart-BGFrAOZs.js";import"./index-p6lGUO2k.js";import"./tslib.es6-ywRZ5Esg.js";import"./index-C-e6FMg7.js";import"./input-CJTBT2o9.js";import"./parseISO--f4aoRI6.js";import"./index-2gvreq7C.js";import"./shield-Bd7IaV_q.js";import"./search-D_d7FJv8.js";import"./bell-zZ1kEipe.js";import"./skeleton-BRfOg84M.js";import"./trending-up-vxbmKikT.js";const i={primary:"#f43f5e",secondary:"#3b82f6",success:"#22c55e",warning:"#f59e0b",purple:"#a855f7"},l=[i.primary,i.secondary,i.success,i.warning,i.purple];function De(){const a=B(),{data:s,isLoading:n,error:c,lastUpdated:o,refresh:r}=z({autoRefresh:!0}),{data:u,isLoading:R}=E({limit:10}),{trend:q,isLoading:D}=H({days:30}),{counts:U,isLoading:I}=W("talent");if(n)return e.jsx(m,{"code-path":"src/admin/pages/OverviewPage.tsx:84:7",children:e.jsx(X,{"code-path":"src/admin/pages/OverviewPage.tsx:85:9"})});if(c)return e.jsx(m,{"code-path":"src/admin/pages/OverviewPage.tsx:92:7",children:e.jsxs(_,{"code-path":"src/admin/pages/OverviewPage.tsx:93:9",variant:"destructive",className:"mb-6",children:[e.jsx(J,{"code-path":"src/admin/pages/OverviewPage.tsx:94:11",className:"h-4 w-4"}),e.jsxs(G,{"code-path":"src/admin/pages/OverviewPage.tsx:95:11",children:["Failed to load dashboard data."," ",e.jsx(w,{"code-path":"src/admin/pages/OverviewPage.tsx:97:13",variant:"link",onClick:r,className:"p-0 h-auto",children:"Try again"})]})]})});const M=q?.slice(-7).map(t=>({date:new Date(t.date).toLocaleDateString("en-US",{weekday:"short"}),talent:t.talent_count,sponsors:t.sponsor_count}))||[],g=U.map(t=>({name:t.status.charAt(0).toUpperCase()+t.status.slice(1),value:t.count}));return e.jsxs(m,{"code-path":"src/admin/pages/OverviewPage.tsx:120:5",isLoading:n,onRefresh:r,lastUpdated:o,children:[e.jsxs("div",{"code-path":"src/admin/pages/OverviewPage.tsx:126:7",className:"mb-8",children:[e.jsx("h1",{"code-path":"src/admin/pages/OverviewPage.tsx:127:9",className:"text-2xl font-bold tracking-tight",children:"Dashboard Overview"}),e.jsx("p",{"code-path":"src/admin/pages/OverviewPage.tsx:128:9",className:"text-muted-foreground mt-1",children:"Welcome back! Here's what's happening with your platform today."})]}),e.jsxs(F,{"code-path":"src/admin/pages/OverviewPage.tsx:134:7",className:"mb-8",children:[e.jsx(p,{"code-path":"src/admin/pages/OverviewPage.tsx:135:9",title:"Total Talent",value:s?.talent?.total||0,trend:s?.talent?.newThisWeek,trendLabel:"this week",subtitle:`${s?.talent?.newToday||0} new today`,icon:Z,color:"blue",onClick:()=>a("/admin/talent")}),e.jsx(p,{"code-path":"src/admin/pages/OverviewPage.tsx:145:9",title:"Total Sponsors",value:s?.sponsors?.total||0,trend:s?.sponsors?.newThisMonth,trendLabel:"this month",subtitle:`${s?.sponsors?.active||0} active`,icon:v,color:"green",onClick:()=>a("/admin/sponsors")}),e.jsx(p,{"code-path":"src/admin/pages/OverviewPage.tsx:155:9",title:"Open Requests",value:s?.requests?.open||0,trend:s?.requests?.inReview,trendLabel:"in review",subtitle:`${s?.requests?.urgent||0} urgent`,icon:L,color:"purple",onClick:()=>a("/admin/requests")}),e.jsx(p,{"code-path":"src/admin/pages/OverviewPage.tsx:165:9",title:"Unread Messages",value:s?.messages?.unread||0,trend:s?.messages?.newToday,trendLabel:"new today",subtitle:`${s?.messages?.replied||0} replied`,icon:h,color:"yellow",onClick:()=>a("/admin/messages")})]}),e.jsxs(Q,{"code-path":"src/admin/pages/OverviewPage.tsx:178:7",className:"mb-8",children:[e.jsx(b,{"code-path":"src/admin/pages/OverviewPage.tsx:180:9",title:"Submissions Trend",description:"New talent and sponsors over the last 7 days",isLoading:D,height:280,children:e.jsx(N,{"code-path":"src/admin/pages/OverviewPage.tsx:186:11",width:"100%",height:"100%",children:e.jsxs(ne,{"code-path":"src/admin/pages/OverviewPage.tsx:187:13",data:M,children:[e.jsxs("defs",{"code-path":"src/admin/pages/OverviewPage.tsx:188:15",children:[e.jsxs("linearGradient",{"code-path":"src/admin/pages/OverviewPage.tsx:189:17",id:"colorTalent",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{"code-path":"src/admin/pages/OverviewPage.tsx:190:19",offset:"5%",stopColor:i.primary,stopOpacity:.3}),e.jsx("stop",{"code-path":"src/admin/pages/OverviewPage.tsx:191:19",offset:"95%",stopColor:i.primary,stopOpacity:0})]}),e.jsxs("linearGradient",{"code-path":"src/admin/pages/OverviewPage.tsx:193:17",id:"colorSponsors",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{"code-path":"src/admin/pages/OverviewPage.tsx:194:19",offset:"5%",stopColor:i.secondary,stopOpacity:.3}),e.jsx("stop",{"code-path":"src/admin/pages/OverviewPage.tsx:195:19",offset:"95%",stopColor:i.secondary,stopOpacity:0})]})]}),e.jsx(ee,{"code-path":"src/admin/pages/OverviewPage.tsx:198:15",strokeDasharray:"3 3",stroke:"#eee"}),e.jsx(se,{"code-path":"src/admin/pages/OverviewPage.tsx:199:15",dataKey:"date",tick:{fontSize:12}}),e.jsx(ae,{"code-path":"src/admin/pages/OverviewPage.tsx:200:15",tick:{fontSize:12}}),e.jsx(C,{"code-path":"src/admin/pages/OverviewPage.tsx:201:15"}),e.jsx(k,{"code-path":"src/admin/pages/OverviewPage.tsx:202:15",type:"monotone",dataKey:"talent",name:"Talent",stroke:i.primary,fillOpacity:1,fill:"url(#colorTalent)"}),e.jsx(k,{"code-path":"src/admin/pages/OverviewPage.tsx:210:15",type:"monotone",dataKey:"sponsors",name:"Sponsors",stroke:i.secondary,fillOpacity:1,fill:"url(#colorSponsors)"})]})})}),e.jsxs(b,{"code-path":"src/admin/pages/OverviewPage.tsx:223:9",title:"Talent Status Distribution",description:"Current status breakdown",isLoading:I,height:280,children:[e.jsx(N,{"code-path":"src/admin/pages/OverviewPage.tsx:229:11",width:"100%",height:"100%",children:e.jsxs(te,{"code-path":"src/admin/pages/OverviewPage.tsx:230:13",children:[e.jsx(re,{"code-path":"src/admin/pages/OverviewPage.tsx:231:15",data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:5,dataKey:"value",children:g.map((t,d)=>e.jsx(ie,{"code-path":"src/admin/pages/OverviewPage.tsx:241:19",fill:l[d%l.length]},`cell-${d}`))}),e.jsx(C,{"code-path":"src/admin/pages/OverviewPage.tsx:244:15"})]})}),e.jsx("div",{"code-path":"src/admin/pages/OverviewPage.tsx:247:11",className:"flex flex-wrap justify-center gap-3 mt-2",children:g.map((t,d)=>e.jsxs("div",{"code-path":"src/admin/pages/OverviewPage.tsx:249:15",className:"flex items-center gap-1.5",children:[e.jsx("div",{"code-path":"src/admin/pages/OverviewPage.tsx:250:17",className:"w-3 h-3 rounded-full",style:{backgroundColor:l[d%l.length]}}),e.jsxs("span",{"code-path":"src/admin/pages/OverviewPage.tsx:254:17",className:"text-sm text-muted-foreground",children:[t.name,": ",t.value]})]},t.name))})]})]}),e.jsxs("div",{"code-path":"src/admin/pages/OverviewPage.tsx:264:7",className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs(O,{"code-path":"src/admin/pages/OverviewPage.tsx:266:9",className:"lg:col-span-2",children:[e.jsxs(P,{"code-path":"src/admin/pages/OverviewPage.tsx:267:11",className:"flex flex-row items-center justify-between pb-4",children:[e.jsxs("div",{"code-path":"src/admin/pages/OverviewPage.tsx:268:13",children:[e.jsx(j,{"code-path":"src/admin/pages/OverviewPage.tsx:269:15",children:"Pending Actions"}),e.jsx(f,{"code-path":"src/admin/pages/OverviewPage.tsx:270:15",children:"Items requiring your attention"})]}),e.jsx(w,{"code-path":"src/admin/pages/OverviewPage.tsx:272:13",variant:"outline",size:"sm",onClick:()=>a("/admin/talent?status=pending"),children:"View All"})]}),e.jsx(y,{"code-path":"src/admin/pages/OverviewPage.tsx:276:11",children:e.jsxs("div",{"code-path":"src/admin/pages/OverviewPage.tsx:277:13",className:"space-y-3",children:[e.jsx(x,{"code-path":"src/admin/pages/OverviewPage.tsx:278:15",icon:S,title:"Pending Talent Reviews",count:s?.talent?.pending||0,color:"blue",onClick:()=>a("/admin/talent?status=pending")}),e.jsx(x,{"code-path":"src/admin/pages/OverviewPage.tsx:285:15",icon:v,title:"Open Requests",count:s?.requests?.open||0,color:"purple",onClick:()=>a("/admin/requests")}),e.jsx(x,{"code-path":"src/admin/pages/OverviewPage.tsx:292:15",icon:h,title:"Unread Messages",count:s?.messages?.unread||0,color:"yellow",onClick:()=>a("/admin/messages?status=unread")})]})})]}),e.jsxs(O,{"code-path":"src/admin/pages/OverviewPage.tsx:304:9",children:[e.jsxs(P,{"code-path":"src/admin/pages/OverviewPage.tsx:305:11",className:"pb-4",children:[e.jsx(j,{"code-path":"src/admin/pages/OverviewPage.tsx:306:13",children:"Recent Activity"}),e.jsx(f,{"code-path":"src/admin/pages/OverviewPage.tsx:307:13",children:"Latest platform events"})]}),e.jsx(y,{"code-path":"src/admin/pages/OverviewPage.tsx:309:11",children:e.jsx($,{"code-path":"src/admin/pages/OverviewPage.tsx:310:13",className:"h-[300px]",children:e.jsx("div",{"code-path":"src/admin/pages/OverviewPage.tsx:311:15",className:"space-y-4",children:R?e.jsx("div",{"code-path":"src/admin/pages/OverviewPage.tsx:313:19",className:"space-y-4",children:Array.from({length:5}).map((t,d)=>e.jsxs("div",{"code-path":"src/admin/pages/OverviewPage.tsx:315:23",className:"flex gap-3",children:[e.jsx("div",{"code-path":"src/admin/pages/OverviewPage.tsx:316:25",className:"w-8 h-8 rounded-full bg-muted animate-pulse"}),e.jsxs("div",{"code-path":"src/admin/pages/OverviewPage.tsx:317:25",className:"flex-1 space-y-1",children:[e.jsx("div",{"code-path":"src/admin/pages/OverviewPage.tsx:318:27",className:"h-4 w-3/4 bg-muted rounded animate-pulse"}),e.jsx("div",{"code-path":"src/admin/pages/OverviewPage.tsx:319:27",className:"h-3 w-1/2 bg-muted rounded animate-pulse"})]})]},d))}):u.length===0?e.jsxs("div",{"code-path":"src/admin/pages/OverviewPage.tsx:325:19",className:"text-center py-8 text-muted-foreground",children:[e.jsx(T,{"code-path":"src/admin/pages/OverviewPage.tsx:326:21",className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{"code-path":"src/admin/pages/OverviewPage.tsx:327:21",className:"text-sm",children:"No recent activity"})]}):u.map(t=>e.jsx(de,{"code-path":"src/admin/pages/OverviewPage.tsx:331:21",log:t},t.id))})})})]})]})]})}function x({icon:a,title:s,count:n,color:c,onClick:o}){const r={blue:"bg-blue-50 text-blue-600 dark:bg-blue-950/30 dark:text-blue-400",green:"bg-green-50 text-green-600 dark:bg-green-950/30 dark:text-green-400",yellow:"bg-yellow-50 text-yellow-600 dark:bg-yellow-950/30 dark:text-yellow-400",purple:"bg-purple-50 text-purple-600 dark:bg-purple-950/30 dark:text-purple-400",red:"bg-red-50 text-red-600 dark:bg-red-950/30 dark:text-red-400"};return e.jsxs("button",{"code-path":"src/admin/pages/OverviewPage.tsx:365:5",onClick:o,className:"w-full flex items-center justify-between p-4 rounded-lg border hover:bg-muted/50 transition-colors text-left",children:[e.jsxs("div",{"code-path":"src/admin/pages/OverviewPage.tsx:369:7",className:"flex items-center gap-4",children:[e.jsx("div",{"code-path":"src/admin/pages/OverviewPage.tsx:370:9",className:A("p-2.5 rounded-lg",r[c]),children:e.jsx(a,{"code-path":"src/admin/pages/OverviewPage.tsx:371:11",className:"w-5 h-5"})}),e.jsxs("div",{"code-path":"src/admin/pages/OverviewPage.tsx:373:9",children:[e.jsx("p",{"code-path":"src/admin/pages/OverviewPage.tsx:374:11",className:"font-medium",children:s}),e.jsx("p",{"code-path":"src/admin/pages/OverviewPage.tsx:375:11",className:"text-sm text-muted-foreground",children:n===0?"All caught up!":`${n} item${n===1?"":"s"} pending`})]})]}),n>0&&e.jsx(K,{"code-path":"src/admin/pages/OverviewPage.tsx:381:9",variant:"secondary",className:"ml-4",children:n})]})}function de({log:a}){const s=r=>r==="talent"?S:r==="sponsor"?v:r==="message"?h:r==="request"?L:T,n=r=>r==="talent"?"text-blue-600 bg-blue-50":r==="sponsor"?"text-green-600 bg-green-50":r==="message"?"text-yellow-600 bg-yellow-50":r==="request"?"text-purple-600 bg-purple-50":"text-gray-600 bg-gray-50",c=s(a.type),o=n(a.type);return e.jsxs("div",{"code-path":"src/admin/pages/OverviewPage.tsx:421:5",className:"flex gap-3",children:[e.jsx("div",{"code-path":"src/admin/pages/OverviewPage.tsx:422:7",className:A("w-8 h-8 rounded-full flex items-center justify-center shrink-0",o),children:e.jsx(c,{"code-path":"src/admin/pages/OverviewPage.tsx:423:9",className:"w-4 h-4"})}),e.jsxs("div",{"code-path":"src/admin/pages/OverviewPage.tsx:425:7",className:"flex-1 min-w-0",children:[e.jsx("p",{"code-path":"src/admin/pages/OverviewPage.tsx:426:9",className:"text-sm font-medium truncate",children:a.title}),e.jsx("p",{"code-path":"src/admin/pages/OverviewPage.tsx:427:9",className:"text-xs text-muted-foreground",children:a.description}),e.jsxs("div",{"code-path":"src/admin/pages/OverviewPage.tsx:428:9",className:"flex items-center gap-2 mt-1",children:[e.jsx(V,{"code-path":"src/admin/pages/OverviewPage.tsx:429:11",status:a.status,type:a.type}),e.jsx("span",{"code-path":"src/admin/pages/OverviewPage.tsx:430:11",className:"text-xs text-muted-foreground",children:Y(a.created_at)})]})]})]})}export{De as default};
