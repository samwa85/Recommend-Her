import{c as He,r as t,j as e,b as Ke,m as fe,B as c,E as Q}from"./index-BFokqijs.js";import{I as W}from"./input-r23uOAAi.js";import{B as N}from"./badge-Cft8GLM8.js";import{C as x,a as D,b as k,d as E}from"./card-BimRp6lB.js";import{T as Xe,a as Ge,c as Y,b as Z}from"./tabs-yl-vRALA.js";import{D as ee,a as se,b as ae,c as te}from"./dialog-Gs4uCdwp.js";import{A as Je,a as Qe}from"./alert-C88wMc-_.js";import{S as le,a as re,b as ne,c as ce,d as o}from"./select-Bw7-WCEL.js";import{S as Ne}from"./switch-DRF7vpTB.js";import{L as be}from"./label-Bd4PHMeE.js";import{s as S,a as We,h as Ye,i as Ze,n as ve,m as we,q as es,B as ss}from"./storage-D-XduaKf.js";import{B as as}from"./bell-R43HBNvV.js";import{C as ts}from"./circle-alert-BfNQpGCC.js";import{U as ls}from"./users-CS-CbRwM.js";import{B as rs}from"./building-2-D_G8vj2-.js";import{M as ye}from"./mail-DTfEEgSS.js";import{S as ie}from"./search-B7QLy00a.js";import{F as oe}from"./funnel-TwuM_Tnx.js";import{D as F}from"./download-Cu-OxTL9.js";import{C as B}from"./circle-check-big-D0aVXZPA.js";import{C as Se}from"./circle-x-BPPC1WUD.js";import"./index-DtNNY4Pa.js";import"./index-DIxYQRG1.js";import"./index-DQhhiDRk.js";import"./index-DBUxt3yV.js";import"./tslib.es6-eMSY344_.js";import"./index-hXLSzeHv.js";import"./index-XYMtX8-I.js";import"./chevron-down-BPRDtb64.js";const ns=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],cs=He("bell-ring",ns);function zs(){const[I,C]=t.useState(!0),[de,me]=t.useState(!1),[xe,h]=t.useState(null),[b,Ce]=t.useState([]),[v,Le]=t.useState([]),[L,Ae]=t.useState([]),[u,_e]=t.useState(""),[p,Te]=t.useState(""),[j,Re]=t.useState(""),[z,De]=t.useState("all"),[O,ke]=t.useState("all"),[U,Ee]=t.useState("all"),[r,A]=t.useState(null),[d,_]=t.useState(null),[i,T]=t.useState(null),[V,Fe]=t.useState(!0),[M,Be]=t.useState(!0),[w,Ie]=t.useState([]),[ze,he]=t.useState(!1),[Oe,ue]=t.useState(new Date),m=t.useRef(null),y=t.useRef([]);t.useEffect(()=>(Ue(),()=>{m.current&&clearInterval(m.current),y.current.forEach(s=>s.unsubscribe())}),[]),t.useEffect(()=>(V?m.current=setInterval(()=>{R()},3e4):m.current&&(clearInterval(m.current),m.current=null),()=>{m.current&&clearInterval(m.current)}),[V]),t.useEffect(()=>{if(!M){y.current.forEach(n=>n.unsubscribe()),y.current=[];return}const s=S.channel("talent-changes").on("postgres_changes",{event:"*",schema:"public",table:"talent_profiles"},n=>{console.log("[Realtime] Talent change:",n),q("talent_profiles",n.eventType),R()}).subscribe(),a=S.channel("sponsor-changes").on("postgres_changes",{event:"*",schema:"public",table:"sponsor_profiles"},n=>{console.log("[Realtime] Sponsor change:",n),q("sponsor_profiles",n.eventType),R()}).subscribe(),l=S.channel("contact-changes").on("postgres_changes",{event:"*",schema:"public",table:"contact_submissions"},n=>{console.log("[Realtime] Contact change:",n),q("contact_submissions",n.eventType),R()}).subscribe();return y.current=[{unsubscribe:()=>s.unsubscribe()},{unsubscribe:()=>a.unsubscribe()},{unsubscribe:()=>l.unsubscribe()}],()=>{y.current.forEach(n=>n.unsubscribe())}},[M]);const q=t.useCallback((s,a)=>{const l={table:s,type:a,timestamp:new Date};Ie(n=>[l,...n].slice(0,5)),he(!0),setTimeout(()=>he(!1),3e3)},[]),Ue=async()=>{try{(await We())?.role==="admin"?g():(h("Access denied. Admin privileges required."),C(!1))}catch{h("Authentication error. Please log in."),C(!1)}},g=async()=>{C(!0),h(null);try{await pe(),ue(new Date)}catch(s){console.error("[SuperAdmin] Load error:",s),h("Failed to load data: "+(s instanceof Error?s.message:"Unknown error"))}finally{C(!1)}},R=async()=>{if(!de){me(!0);try{await pe(),ue(new Date)}catch(s){console.error("[SuperAdmin] Silent refresh error:",s)}finally{me(!1)}}},pe=async()=>{console.log("[SuperAdmin] Fetching fresh data...");const[s,a,l]=await Promise.all([Ye({limit:1e3}),Ze({limit:1e3}),S.from("v_contact_submissions").select("*").order("created_at",{ascending:!1})]);s.data&&Ce(s.data),a.data&&Le(a.data),l.data&&Ae(l.data),s.error&&console.error("[SuperAdmin] Talent error:",s.error),a.error&&console.error("[SuperAdmin] Sponsor error:",a.error),l.error&&console.error("[SuperAdmin] Contact error:",l.error)},P=async(s,a)=>{try{const{error:l}=await S.from("contact_submissions").update({status:a}).eq("id",s);if(l)throw l}catch(l){console.error("Failed to update contact status:",l),h("Failed to update contact status")}},$=b.filter(s=>{const a=!u||s.headline?.toLowerCase().includes(u.toLowerCase())||s.industry?.toLowerCase().includes(u.toLowerCase())||s.profiles?.full_name?.toLowerCase().includes(u.toLowerCase())||s.profiles?.email?.toLowerCase().includes(u.toLowerCase()),l=z==="all"||s.status===z;return a&&l}),H=v.filter(s=>{const a=!p||s.org_name?.toLowerCase().includes(p.toLowerCase())||s.industry?.toLowerCase().includes(p.toLowerCase())||s.profiles?.full_name?.toLowerCase().includes(p.toLowerCase())||s.profiles?.email?.toLowerCase().includes(p.toLowerCase()),l=O==="all"||s.status===O;return a&&l}),K=L.filter(s=>{const a=!j||s.full_name?.toLowerCase().includes(j.toLowerCase())||s.email?.toLowerCase().includes(j.toLowerCase())||s.inquiry_type?.toLowerCase().includes(j.toLowerCase())||s.message?.toLowerCase().includes(j.toLowerCase()),l=U==="all"||s.status===U;return a&&l}),f=s=>({approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700",pending:"bg-yellow-100 text-yellow-700",submitted:"bg-blue-100 text-blue-700",new:"bg-blue-100 text-blue-700",read:"bg-gray-100 text-gray-700",replied:"bg-green-100 text-green-700",archived:"bg-gray-100 text-gray-700"})[s]||"bg-gray-100 text-gray-700",Ve=async s=>{if(s)try{const a=await es(ss.TALENT_CV,s,300);a&&window.open(a,"_blank")}catch(a){console.error("Failed to get download URL:",a),h("Failed to generate download link")}},X=(s,a)=>{if(s.length===0)return;const l=Object.keys(s[0]).join(","),n=s.map($e=>Object.values($e).map(J=>typeof J=="string"?`"${J.replace(/"/g,'""')}"`:J).join(",")),qe=[l,...n].join(`
`),Pe=new Blob([qe],{type:"text/csv"}),ge=window.URL.createObjectURL(Pe),G=document.createElement("a");G.href=ge,G.download=`${a}-${new Date().toISOString().split("T")[0]}.csv`,G.click(),window.URL.revokeObjectURL(ge)},je=s=>({talent_profiles:"Talent",sponsor_profiles:"Sponsor",contact_submissions:"Contact"})[s]||s,Me=s=>{switch(s){case"INSERT":return"+";case"UPDATE":return"â†»";case"DELETE":return"-"}};return I?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Ke,{className:"w-8 h-8 animate-spin text-primary"})}):e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[ze&&w.length>0&&e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-top-2",children:e.jsxs("div",{className:"bg-green-600 text-white px-4 py-3 rounded-lg shadow-lg flex items-center gap-2",children:[e.jsx(cs,{className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"New data received!"}),e.jsxs("p",{className:"text-sm text-green-100",children:[je(w[0].table)," ",w[0].type.toLowerCase(),"ed"]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Super Admin Dashboard"}),e.jsx("p",{className:"text-gray-500",children:"Manage all talent and sponsors"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-2 rounded-lg border",children:[e.jsx(Ne,{id:"auto-refresh",checked:V,onCheckedChange:Fe}),e.jsx(be,{htmlFor:"auto-refresh",className:"text-sm cursor-pointer",children:"Auto-refresh (30s)"}),de&&e.jsx(fe,{className:"w-4 h-4 animate-spin text-primary"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-2 rounded-lg border",children:[e.jsx(Ne,{id:"realtime",checked:M,onCheckedChange:Be}),e.jsxs(be,{htmlFor:"realtime",className:"text-sm cursor-pointer flex items-center gap-1",children:[e.jsx(as,{className:"w-3 h-3"}),"Realtime"]})]}),e.jsxs(c,{variant:"outline",onClick:g,disabled:I,children:[e.jsx(fe,{className:`w-4 h-4 mr-2 ${I?"animate-spin":""}`}),"Refresh"]})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",Oe.toLocaleTimeString(),w.length>0&&e.jsxs("span",{className:"ml-4 text-xs",children:["Recent changes:",w.slice(0,3).map((s,a)=>e.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 bg-gray-100 px-2 py-0.5 rounded",children:[e.jsx("span",{className:"font-bold",children:Me(s.type)}),je(s.table)]},a))]})]}),xe&&e.jsxs(Je,{variant:"destructive",children:[e.jsx(ts,{className:"w-4 h-4"}),e.jsx(Qe,{children:xe})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(x,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(k,{className:"text-sm font-medium text-gray-500",children:"Total Talent"})}),e.jsxs(E,{children:[e.jsx("div",{className:"text-3xl font-bold",children:b.length}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[b.filter(s=>s.status==="submitted"||s.status==="vetted").length," pending review"]})]})]}),e.jsxs(x,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(k,{className:"text-sm font-medium text-gray-500",children:"Total Sponsors"})}),e.jsxs(E,{children:[e.jsx("div",{className:"text-3xl font-bold",children:v.length}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[v.filter(s=>s.status==="pending").length," pending approval"]})]})]}),e.jsxs(x,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(k,{className:"text-sm font-medium text-gray-500",children:"New Contacts"})}),e.jsxs(E,{children:[e.jsx("div",{className:"text-3xl font-bold",children:L.filter(s=>s.status==="new").length}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["of ",L.length," total submissions"]})]})]}),e.jsxs(x,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(k,{className:"text-sm font-medium text-gray-500",children:"Approved"})}),e.jsxs(E,{children:[e.jsx("div",{className:"text-3xl font-bold",children:b.filter(s=>s.status==="approved").length+v.filter(s=>s.status==="approved").length}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total approved profiles"})]})]})]}),e.jsxs(Xe,{defaultValue:"talent",className:"space-y-4",children:[e.jsxs(Ge,{className:"grid w-full grid-cols-3 lg:w-auto",children:[e.jsxs(Y,{value:"talent",className:"flex items-center gap-2",children:[e.jsx(ls,{className:"w-4 h-4"}),"Talent (",$.length,")"]}),e.jsxs(Y,{value:"sponsors",className:"flex items-center gap-2",children:[e.jsx(rs,{className:"w-4 h-4"}),"Sponsors (",H.length,")"]}),e.jsxs(Y,{value:"contacts",className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-4 h-4"}),"Contacts (",K.length,")"]})]}),e.jsxs(Z,{value:"talent",className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ie,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(W,{placeholder:"Search talent...",value:u,onChange:s=>_e(s.target.value),className:"pl-10"})]}),e.jsxs(le,{value:z,onValueChange:De,children:[e.jsxs(re,{className:"w-[180px]",children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),e.jsx(ne,{placeholder:"Filter by status"})]}),e.jsxs(ce,{children:[e.jsx(o,{value:"all",children:"All Status"}),e.jsx(o,{value:"pending",children:"Pending"}),e.jsx(o,{value:"approved",children:"Approved"}),e.jsx(o,{value:"rejected",children:"Rejected"})]})]}),e.jsxs(c,{variant:"outline",onClick:()=>X(b,"talent"),children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Export"]})]}),e.jsx(x,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3 font-medium",children:"Name/Email"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"Headline"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"Industry"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"Status"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"Date"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:$.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-500",children:"No talent profiles found"})}):$.map(s=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsxs("td",{className:"p-3",children:[e.jsx("div",{className:"font-medium",children:s.profiles?.full_name||"N/A"}),e.jsx("div",{className:"text-gray-500 text-xs",children:s.profiles?.email||"N/A"})]}),e.jsx("td",{className:"p-3 text-sm",children:s.headline||"-"}),e.jsx("td",{className:"p-3 text-sm",children:s.industry||"-"}),e.jsx("td",{className:"p-3",children:e.jsx(N,{className:f(s.status),children:s.status})}),e.jsx("td",{className:"p-3 text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString()}),e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"flex gap-2",children:e.jsx(c,{size:"sm",variant:"ghost",onClick:()=>A(s),children:e.jsx(Q,{className:"w-4 h-4"})})})})]},s.id))})]})})})]}),e.jsxs(Z,{value:"sponsors",className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ie,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(W,{placeholder:"Search sponsors...",value:p,onChange:s=>Te(s.target.value),className:"pl-10"})]}),e.jsxs(le,{value:O,onValueChange:ke,children:[e.jsxs(re,{className:"w-[180px]",children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),e.jsx(ne,{placeholder:"Filter by status"})]}),e.jsxs(ce,{children:[e.jsx(o,{value:"all",children:"All Status"}),e.jsx(o,{value:"pending",children:"Pending"}),e.jsx(o,{value:"approved",children:"Approved"}),e.jsx(o,{value:"rejected",children:"Rejected"})]})]}),e.jsxs(c,{variant:"outline",onClick:()=>X(v,"sponsors"),children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Export"]})]}),e.jsx(x,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3 font-medium",children:"Name/Email"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"Organization"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"Type"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"Status"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"Date"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:H.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-500",children:"No sponsors found"})}):H.map(s=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsxs("td",{className:"p-3",children:[e.jsx("div",{className:"font-medium",children:s.profiles?.full_name||"N/A"}),e.jsx("div",{className:"text-gray-500 text-xs",children:s.profiles?.email||"N/A"})]}),e.jsx("td",{className:"p-3 text-sm",children:s.org_name||"-"}),e.jsx("td",{className:"p-3 text-sm",children:s.sponsor_type||"-"}),e.jsx("td",{className:"p-3",children:e.jsx(N,{className:f(s.status),children:s.status})}),e.jsx("td",{className:"p-3 text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString()}),e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"flex gap-2",children:e.jsx(c,{size:"sm",variant:"ghost",onClick:()=>_(s),children:e.jsx(Q,{className:"w-4 h-4"})})})})]},s.id))})]})})})]}),e.jsxs(Z,{value:"contacts",className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ie,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(W,{placeholder:"Search contacts...",value:j,onChange:s=>Re(s.target.value),className:"pl-10"})]}),e.jsxs(le,{value:U,onValueChange:Ee,children:[e.jsxs(re,{className:"w-[180px]",children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),e.jsx(ne,{placeholder:"Filter by status"})]}),e.jsxs(ce,{children:[e.jsx(o,{value:"all",children:"All Status"}),e.jsx(o,{value:"new",children:"New"}),e.jsx(o,{value:"read",children:"Read"}),e.jsx(o,{value:"replied",children:"Replied"}),e.jsx(o,{value:"archived",children:"Archived"})]})]}),e.jsxs(c,{variant:"outline",onClick:()=>X(L,"contacts"),children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Export"]})]}),e.jsx(x,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3 font-medium",children:"Name/Email"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"Type"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"Organization"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"Status"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"Date"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:K.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-500",children:"No contact submissions found"})}):K.map(s=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsxs("td",{className:"p-3",children:[e.jsx("div",{className:"font-medium",children:s.full_name}),e.jsx("div",{className:"text-gray-500 text-xs",children:s.email})]}),e.jsx("td",{className:"p-3 text-sm",children:s.inquiry_type}),e.jsx("td",{className:"p-3 text-sm",children:s.organization||"-"}),e.jsx("td",{className:"p-3",children:e.jsx(N,{className:f(s.status),children:s.status})}),e.jsx("td",{className:"p-3 text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString()}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{size:"sm",variant:"ghost",onClick:()=>T(s),children:e.jsx(Q,{className:"w-4 h-4"})}),s.status==="new"&&e.jsx(c,{size:"sm",className:"bg-blue-600",onClick:()=>P(s.id,"read"),children:e.jsx(B,{className:"w-4 h-4"})})]})})]},s.id))})]})})})]})]}),e.jsx(ee,{open:!!r,onOpenChange:()=>A(null),children:e.jsxs(se,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ae,{children:e.jsx(te,{children:"Talent Profile Details"})}),r&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Name"}),e.jsx("p",{className:"font-medium",children:r.profiles?.full_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium",children:r.profiles?.email||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Headline"}),e.jsx("p",{className:"font-medium",children:r.headline||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Industry"}),e.jsx("p",{className:"font-medium",children:r.industry||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Status"}),e.jsx(N,{className:f(r.status),children:r.status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Submitted"}),e.jsx("p",{className:"font-medium",children:new Date(r.created_at).toLocaleString()})]})]}),r.bio&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Bio"}),e.jsx("p",{className:"mt-1 text-sm",children:r.bio})]}),r.cv_file_path&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"CV"}),e.jsxs(c,{variant:"outline",size:"sm",className:"mt-1",onClick:()=>Ve(r.cv_file_path),children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Download CV"]})]}),(r.status==="submitted"||r.status==="vetted")&&e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsxs(c,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:async()=>{await ve(r.id,{decision:"approved"}),A(null),g()},children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Approve"]}),e.jsxs(c,{className:"flex-1 bg-red-600 hover:bg-red-700",onClick:async()=>{await ve(r.id,{decision:"rejected"}),A(null),g()},children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"Reject"]})]})]})]})}),e.jsx(ee,{open:!!d,onOpenChange:()=>_(null),children:e.jsxs(se,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ae,{children:e.jsx(te,{children:"Sponsor Details"})}),d&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Name"}),e.jsx("p",{className:"font-medium",children:d.profiles?.full_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium",children:d.profiles?.email||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Organization"}),e.jsx("p",{className:"font-medium",children:d.org_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Type"}),e.jsx("p",{className:"font-medium",children:d.sponsor_type||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Status"}),e.jsx(N,{className:f(d.status),children:d.status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Submitted"}),e.jsx("p",{className:"font-medium",children:new Date(d.created_at).toLocaleString()})]})]}),d.status==="pending"&&e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsxs(c,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:async()=>{await we(d.id,"approved"),_(null),g()},children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Approve"]}),e.jsxs(c,{className:"flex-1 bg-red-600 hover:bg-red-700",onClick:async()=>{await we(d.id,"rejected"),_(null),g()},children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"Reject"]})]})]})]})}),e.jsx(ee,{open:!!i,onOpenChange:()=>T(null),children:e.jsxs(se,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ae,{children:e.jsx(te,{children:"Contact Submission"})}),i&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Name"}),e.jsx("p",{className:"font-medium",children:i.full_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium",children:i.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Type"}),e.jsx("p",{className:"font-medium",children:i.inquiry_type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Organization"}),e.jsx("p",{className:"font-medium",children:i.organization||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Status"}),e.jsx(N,{className:f(i.status),children:i.status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Submitted"}),e.jsx("p",{className:"font-medium",children:new Date(i.created_at).toLocaleString()})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Message"}),e.jsx("div",{className:"mt-1 p-3 bg-gray-50 rounded text-sm whitespace-pre-wrap",children:i.message})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsxs(c,{className:"bg-blue-600",onClick:()=>{P(i.id,"read"),T(null)},children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Mark as Read"]}),e.jsxs(c,{className:"bg-green-600",onClick:()=>window.open(`mailto:${i.email}`),children:[e.jsx(ye,{className:"w-4 h-4 mr-2"}),"Reply via Email"]}),e.jsx(c,{variant:"outline",onClick:()=>{P(i.id,"archived"),T(null)},children:"Archive"})]})]})]})})]})})}export{zs as default};
