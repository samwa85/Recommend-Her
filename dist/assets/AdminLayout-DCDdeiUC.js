import{c as C,r as f,j as n,q as Se,s as _e,a as j,X as le,v as be,u as je,B as N,M as Ne,N as ue,m as De}from"./index-CTBFlb6B.js";import{I as Ee}from"./input-CEcI5SlG.js";import{t as D,e as Me,n as X,g as W,f as ke,h as Ie,m as G,i as q,p as de,j as qe,k as fe,L as Te,C as Re,D as K,a as Z,b as ee,d as A,c as T}from"./dropdown-menu-0vdZ_YEl.js";import{B as R}from"./badge-DXHBdx_O.js";import{u as Le,R as Ce,C as Ae,a as Pe,T as Oe,D as $e,b as Fe,P as Be,O as Ue}from"./index-y-owRkm1.js";import{d as V}from"./index-D84yse_B.js";import{d as v}from"./client-Anx0SkdC.js";import{h as _,a as me}from"./errors-B3_eVdCY.js";import{U as P}from"./users-D8QL0r_i.js";import{B as ze}from"./building-2-BA-C4eeT.js";import{F as He}from"./file-text-CpvjM4du.js";import{M as Ve}from"./message-square-Ke3EAdy9.js";import{M as O}from"./mail-BiYN70Cu.js";import{S as he}from"./shield-DqvVlmHg.js";import{S as te}from"./search-Asy_H7bk.js";import{B as Xe}from"./bell-CuKgYaVz.js";import{C as Qe}from"./chevron-down-DoU3MspT.js";const Ye=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Je=C("log-out",Ye);const We=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Ge=C("moon",We);const Ke=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ze=C("settings",Ke);const et=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],tt=C("sun",et),re={APPROVED:"approved",REJECTED:"rejected",ARCHIVED:"archived"},_r={ACTIVE:"active",INACTIVE:"inactive",ARCHIVED:"archived"},br={LOW:"low",NORMAL:"normal",HIGH:"high",URGENT:"urgent"},se={APPROVED:"approved",CLOSED:"closed"},E={UNREAD:"unread",READ:"read",REPLIED:"replied",ARCHIVED:"archived",SPAM:"spam"},jr={pending:"Pending Review",approved:"Approved",rejected:"Rejected",archived:"Archived"},Nr={active:"Active",inactive:"Inactive",archived:"Archived"},Dr={open:"Open",in_review:"In Review",approved:"Approved",rejected:"Rejected",closed:"Closed"},Er={low:"Low",normal:"Normal",high:"High",urgent:"Urgent"},Mr={new:"New",unread:"Unread",read:"Read",replied:"Replied",archived:"Archived",spam:"Spam"},kr={pending:"secondary",approved:"default",rejected:"destructive",archived:"outline",active:"default",inactive:"secondary",open:"secondary",in_review:"outline",closed:"outline",new:"secondary",unread:"secondary",read:"outline",replied:"default",spam:"destructive"};function L(t,e){const r=+D(t)-+D(e);return r<0?-1:r>0?1:r}function rt(t){return Me(t,Date.now())}function st(t,e,r){const[o,a]=X(r?.in,t,e),i=o.getFullYear()-a.getFullYear(),l=o.getMonth()-a.getMonth();return i*12+l}function at(t){return e=>{const o=(t?Math[t]:Math.trunc)(e);return o===0?0:o}}function nt(t,e){return+D(t)-+D(e)}function ot(t,e){const r=D(t,e?.in);return r.setHours(23,59,59,999),r}function ct(t,e){const r=D(t,e?.in),o=r.getMonth();return r.setFullYear(r.getFullYear(),o+1,0),r.setHours(23,59,59,999),r}function it(t,e){const r=D(t,e?.in);return+ot(r,e)==+ct(r,e)}function lt(t,e,r){const[o,a,i]=X(r?.in,t,t,e),l=L(a,i),s=Math.abs(st(a,i));if(s<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-l*s);let c=L(a,i)===-l;it(o)&&s===1&&L(o,i)===1&&(c=!1);const u=l*(s-+c);return u===0?0:u}function ut(t,e,r){const o=nt(t,e)/1e3;return at(r?.roundingMethod)(o)}function dt(t,e,r){const o=ke(),a=r?.locale??o.locale??Ie,i=2520,l=L(t,e);if(isNaN(l))throw new RangeError("Invalid time value");const s=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:l}),[c,u]=X(r?.in,...l>0?[e,t]:[t,e]),m=ut(u,c),g=(W(u)-W(c))/1e3,y=Math.round((m-g)/60);let h;if(y<2)return r?.includeSeconds?m<5?a.formatDistance("lessThanXSeconds",5,s):m<10?a.formatDistance("lessThanXSeconds",10,s):m<20?a.formatDistance("lessThanXSeconds",20,s):m<40?a.formatDistance("halfAMinute",0,s):m<60?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",1,s):y===0?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",y,s);if(y<45)return a.formatDistance("xMinutes",y,s);if(y<90)return a.formatDistance("aboutXHours",1,s);if(y<G){const x=Math.round(y/60);return a.formatDistance("aboutXHours",x,s)}else{if(y<i)return a.formatDistance("xDays",1,s);if(y<q){const x=Math.round(y/G);return a.formatDistance("xDays",x,s)}else if(y<q*2)return h=Math.round(y/q),a.formatDistance("aboutXMonths",h,s)}if(h=lt(u,c),h<12){const x=Math.round(y/q);return a.formatDistance("xMonths",x,s)}else{const x=h%12,w=Math.trunc(h/12);return x<3?a.formatDistance("aboutXYears",w,s):x<9?a.formatDistance("overXYears",w,s):a.formatDistance("almostXYears",w+1,s)}}function ft(t,e){return dt(t,rt(t),e)}async function mt(t={}){const{filters:e={},pagination:r={},withCV:o=!1}=t,a=r.page??1,i=r.perPage??25,l=r.sortBy??"created_at",s=r.sortOrder??"desc";try{let c=v.from("talent_profiles").select(o?"*, cv_file:files(*)":"*",{count:"exact"});if(e.status&&(c=c.eq("status",e.status)),e.industry&&(c=c.eq("industry",e.industry)),e.role_category&&(c=c.eq("role_category",e.role_category)),e.country&&(c=c.eq("country",e.country)),e.city&&(c=c.ilike("city",`%${e.city}%`)),e.date_from&&(c=c.gte("created_at",e.date_from)),e.date_to&&(c=c.lte("created_at",e.date_to)),e.source&&(c=c.eq("source",e.source)),e.education_level&&(c=c.eq("education_level",e.education_level)),e.years_of_experience&&(c=c.eq("years_of_experience",e.years_of_experience)),e.has_cv==="yes"?c=c.not("cv_file_id","is",null):e.has_cv==="no"&&(c=c.is("cv_file_id",null)),e.search){const x=`%${e.search}%`;c=c.or(`full_name.ilike.${x},email.ilike.${x},headline.ilike.${x},phone.ilike.${x},bio.ilike.${x}`)}c=c.order(l,{ascending:s==="asc"});const u=(a-1)*i,m=u+i-1;c=c.range(u,m);const{data:g,error:y,count:h}=await c;if(y)throw y;return{data:g||[],count:h||0,page:a,perPage:i,totalPages:Math.ceil((h||0)/i),error:null}}catch(c){return{data:[],count:0,page:a,perPage:i,totalPages:0,error:c instanceof Error?c:new Error(String(c))}}}async function $(t){try{const{data:e,error:r}=await v.from("talent_profiles").select("*, cv_file:files(*)").eq("id",t).single();if(r)throw r;return{data:e,error:null}}catch(e){return _(e)}}async function Ir(t){try{const{data:e,error:r}=await v.from("talent_profiles").insert(t).select().single();if(r)throw r;return{data:e,error:null}}catch(e){return _(e)}}async function ht(t,e){try{const{data:r,error:o}=await v.from("talent_profiles").update(e).eq("id",t).select().single();if(o)throw o;return{data:r,error:null}}catch(r){return _(r)}}async function gt(t,e,r){const o={status:e,updated_at:new Date().toISOString()};return r&&(o.internal_notes=r),(e===re.APPROVED||e===re.REJECTED)&&(o.reviewed_at=new Date().toISOString()),ht(t,o)}async function pt(t){try{const{error:e}=await v.from("talent_profiles").delete().eq("id",t);if(e)throw e;return{success:!0,error:null}}catch(e){return{success:!1,error:e instanceof Error?e:new Error(String(e))}}}async function yt(){try{const{data:t,error:e}=await v.from("talent_profiles").select("status");if(e)throw e;const r={};return t?.forEach(a=>{r[a.status]=(r[a.status]||0)+1}),{data:Object.entries(r).map(([a,i])=>({status:a,count:i})),error:null}}catch(t){return _(t)}}async function xt(t={}){const{filters:e={},pagination:r={}}=t,o=r.page??1,a=r.perPage??25,i=r.sortBy??"created_at",l=r.sortOrder??"desc";try{let s=v.from("sponsor_profiles").select("*",{count:"exact"});if(e.status&&(s=s.eq("status",e.status)),e.industry&&(s=s.eq("industry",e.industry)),e.company_size&&(s=s.eq("company_size",e.company_size)),e.is_recruiter!==void 0&&(s=s.eq("is_recruiter",e.is_recruiter)),e.sponsorship_amount&&(s=s.eq("sponsorship_amount",e.sponsorship_amount)),e.source&&(s=s.eq("source",e.source)),e.date_from&&(s=s.gte("created_at",e.date_from)),e.date_to&&(s=s.lte("created_at",e.date_to)),e.search){const h=`%${e.search}%`;s=s.or(`full_name.ilike.${h},email.ilike.${h},company_name.ilike.${h},phone.ilike.${h},message.ilike.${h}`)}s=s.order(i,{ascending:l==="asc"});const c=(o-1)*a,u=c+a-1;s=s.range(c,u);const{data:m,error:g,count:y}=await s;if(g)throw g;return{data:m||[],count:y||0,page:o,perPage:a,totalPages:Math.ceil((y||0)/a),error:null}}catch(s){return{data:[],count:0,page:r.page??1,perPage:r.perPage??25,totalPages:0,error:s instanceof Error?s:new Error(String(s))}}}async function F(t){try{const{data:e,error:r}=await v.from("sponsor_profiles").select("*").eq("id",t).single();if(r)throw r;return{data:e,error:null}}catch(e){return _(e)}}async function qr(t){try{const{data:e,error:r}=await v.from("sponsor_profiles").insert(t).select().single();if(r)throw r;return{data:e,error:null}}catch(e){return _(e)}}async function wt(t,e){try{const{data:r,error:o}=await v.from("sponsor_profiles").update(e).eq("id",t).select().single();if(o)throw o;return{data:r,error:null}}catch(r){return _(r)}}async function vt(t,e,r){const o={status:e,updated_at:new Date().toISOString()};return r&&(o.internal_notes=r),wt(t,o)}async function St(t){try{const{error:e}=await v.from("sponsor_profiles").delete().eq("id",t);if(e)throw e;return{success:!0,error:null}}catch(e){return{success:!1,error:e instanceof Error?e:new Error(String(e))}}}async function _t(){try{const{data:t,error:e}=await v.from("sponsor_profiles").select("status");if(e)throw e;const r={};return t?.forEach(a=>{r[a.status]=(r[a.status]||0)+1}),{data:Object.entries(r).map(([a,i])=>({status:a,count:i})),error:null}}catch(t){return _(t)}}async function bt(t={}){const{filters:e={},pagination:r={},withRelations:o=!1}=t,a=r.page??1,i=r.perPage??25,l=r.sortBy??"created_at",s=r.sortOrder??"desc";try{const c=o?"*, talent:talent_profiles(*), sponsor:sponsor_profiles(*)":"*";let u=v.from("requests").select(c,{count:"exact"});if(e.status&&(u=u.eq("status",e.status)),e.request_type&&(u=u.eq("request_type",e.request_type)),e.priority&&(u=u.eq("priority",e.priority)),e.talent_id&&(u=u.eq("talent_id",e.talent_id)),e.sponsor_id&&(u=u.eq("sponsor_id",e.sponsor_id)),e.handled_by_admin_id&&(u=u.eq("handled_by_admin_id",e.handled_by_admin_id)),e.date_from&&(u=u.gte("created_at",e.date_from)),e.date_to&&(u=u.lte("created_at",e.date_to)),e.search){const w=`%${e.search}%`;u=u.or(`description.ilike.${w},admin_notes.ilike.${w}`)}l==="priority"&&(u=u.order("priority",{ascending:s==="asc"})),u=u.order("created_at",{ascending:s==="asc"});const m=(a-1)*i,g=m+i-1;u=u.range(m,g);const{data:y,error:h,count:x}=await u;if(h)throw h;return{data:y||[],count:x||0,page:a,perPage:i,totalPages:Math.ceil((x||0)/i),error:null}}catch(c){return{data:[],count:0,page:r.page??1,perPage:r.perPage??25,totalPages:0,error:c instanceof Error?c:new Error(String(c))}}}async function B(t){try{const{data:e,error:r}=await v.from("requests").select("*, talent:talent_profiles(*), sponsor:sponsor_profiles(*)").eq("id",t).single();if(r)throw r;return{data:e,error:null}}catch(e){return _(e)}}async function jt(t,e){try{const{data:r,error:o}=await v.from("requests").update(e).eq("id",t).select().single();if(o)throw o;return{data:r,error:null}}catch(r){return _(r)}}async function Nt(t,e,r){const o={status:e,updated_at:new Date().toISOString()};return r&&(o.handled_by_admin_id=r),(e===se.CLOSED||e===se.APPROVED)&&(o.resolved_at=new Date().toISOString()),jt(t,o)}function Q(t){return{id:t.id,sender_name:t.full_name,sender_email:t.email,sender_phone:null,subject:t.inquiry_type,message:t.message,status:t.status==="new"?E.UNREAD:t.status,admin_reply:null,handled_by_admin_id:null,created_at:t.created_at,updated_at:t.updated_at,replied_at:null}}async function Dt(t={}){const{filters:e={},pagination:r={}}=t,o=r.page??1,a=r.perPage??25;r.sortBy;const i=r.sortOrder??"desc";try{let l=v.from("contact_submissions").select("*",{count:"exact"});if(e.status){const h=e.status===E.UNREAD?"new":e.status;l=l.eq("status",h)}if(e.sender_email&&(l=l.eq("email",e.sender_email)),e.date_from&&(l=l.gte("created_at",e.date_from)),e.date_to&&(l=l.lte("created_at",e.date_to)),e.search){const h=`%${e.search}%`;l=l.or(`full_name.ilike.${h},email.ilike.${h},inquiry_type.ilike.${h},message.ilike.${h}`)}l=l.order("created_at",{ascending:i==="asc"});const s=(o-1)*a,c=s+a-1;l=l.range(s,c);const{data:u,error:m,count:g}=await l;if(m)throw m;return{data:(u||[]).map(Q),count:g||0,page:o,perPage:a,totalPages:Math.ceil((g||0)/a),error:null}}catch(l){return console.error("[Messages] listMessages error:",l),{data:[],count:0,page:o,perPage:a,totalPages:0,error:l instanceof Error?l:new Error(String(l))}}}async function U(t){try{const{data:e,error:r}=await v.from("contact_submissions").select("*").eq("id",t).single();if(r)throw r;return{data:Q(e),error:null}}catch(e){return _(e)}}async function Et(t,e){try{const r={};e.status&&(r.status=e.status===E.UNREAD?"new":e.status);const{data:o,error:a}=await v.from("contact_submissions").update(r).eq("id",t).select().single();if(a)throw a;return{data:Q(o),error:null}}catch(r){return _(r)}}async function Mt(t,e,r){const o=e===E.UNREAD?"new":e;return Et(t,{status:o})}async function kt(){try{const{data:t,error:e}=await v.from("contact_submissions").select("status");if(e)throw e;const r={};return t?.forEach(a=>{r[a.status]=(r[a.status]||0)+1}),{data:Object.entries(r).map(([a,i])=>({status:a==="new"?E.UNREAD:a,count:i})),error:null}}catch(t){return _(t)}}async function It(){try{const{count:t,error:e}=await v.from("contact_submissions").select("*",{count:"exact",head:!0}).eq("status","new");if(e)throw e;return t||0}catch{return 0}}function Tr(t,e="MMM dd, yyyy"){if(!t)return"-";const r=de(t);return fe(r)?qe(r,e):"-"}function qt(t){if(!t)return"-";const e=de(t);return fe(e)?ft(e,{addSuffix:!0}):"-"}function ae(t){const e=new Date;return e.setDate(e.getDate()-t),e.toISOString()}async function Tt(){const t=new Date().toISOString().split("T")[0],e=ae(7),r=ae(30);console.log("[getDashboardMetrics] Fetching metrics...",{today:t,weekAgo:e,monthAgo:r});try{const[o,a,i,l,s,c]=await Promise.all([v.from("talent_profiles").select("*",{count:"exact",head:!0}),v.from("talent_profiles").select("*",{count:"exact",head:!0}).eq("status","pending"),v.from("talent_profiles").select("*",{count:"exact",head:!0}).eq("status","approved"),v.from("talent_profiles").select("*",{count:"exact",head:!0}).gte("created_at",t),v.from("talent_profiles").select("*",{count:"exact",head:!0}).gte("created_at",e),v.from("talent_profiles").select("*",{count:"exact",head:!0}).gte("created_at",r)]),[u,m,g,y]=await Promise.all([v.from("sponsor_profiles").select("*",{count:"exact",head:!0}),v.from("sponsor_profiles").select("*",{count:"exact",head:!0}).eq("status","active"),v.from("sponsor_profiles").select("*",{count:"exact",head:!0}).eq("status","inactive"),v.from("sponsor_profiles").select("*",{count:"exact",head:!0}).gte("created_at",r)]),[h,x,w,d]=await Promise.all([v.from("requests").select("*",{count:"exact",head:!0}),v.from("requests").select("*",{count:"exact",head:!0}).eq("status","open"),v.from("requests").select("*",{count:"exact",head:!0}).eq("status","in_review"),v.from("requests").select("*",{count:"exact",head:!0}).eq("priority","urgent")]),[p,S,M,k]=await Promise.all([v.from("messages").select("*",{count:"exact",head:!0}),v.from("messages").select("*",{count:"exact",head:!0}).eq("status","unread"),v.from("messages").select("*",{count:"exact",head:!0}).eq("status","replied"),v.from("messages").select("*",{count:"exact",head:!0}).gte("created_at",t)]),I={talent:{total:o.count||0,pending:a.count||0,approved:i.count||0,newToday:l.count||0,newThisWeek:s.count||0,newThisMonth:c.count||0},sponsors:{total:u.count||0,active:m.count||0,inactive:g.count||0,newThisMonth:y.count||0},requests:{total:h.count||0,open:x.count||0,inReview:w.count||0,urgent:d.count||0},messages:{total:p.count||0,unread:S.count||0,replied:M.count||0,newToday:k.count||0}};return console.log("[getDashboardMetrics] Metrics fetched:",I),{data:I,error:null}}catch(o){return console.error("[getDashboardMetrics] Error:",o),_(o)}}async function Rt(t=30){try{const{data:e,error:r}=await v.rpc("get_submissions_trend",{days:t});if(!r&&e){const u=Array.isArray(e)?e:[];return{data:u,count:u.length,error:null}}const o=new Date;o.setDate(o.getDate()-t);const a=o.toISOString(),[i,l]=await Promise.all([v.from("talent_profiles").select("created_at").gte("created_at",a),v.from("sponsor_profiles").select("created_at").gte("created_at",a)]);if(i.error)throw i.error;if(l.error)throw l.error;const s=new Map;for(let u=0;u<t;u++){const m=new Date;m.setDate(m.getDate()-u);const g=m.toISOString().split("T")[0];s.set(g,{talent:0,sponsors:0})}i.data?.forEach(u=>{const m=new Date(u.created_at).toISOString().split("T")[0],g=s.get(m);g&&g.talent++}),l.data?.forEach(u=>{const m=new Date(u.created_at).toISOString().split("T")[0],g=s.get(m);g&&g.sponsors++});const c=Array.from(s.entries()).map(([u,m])=>({date:u,talent_count:m.talent,sponsor_count:m.sponsors})).sort((u,m)=>new Date(u.date).getTime()-new Date(m.date).getTime());return{data:c,count:c.length,error:null}}catch(e){return me(e)}}async function Lt(t=10){try{const[e,r,o,a]=await Promise.all([v.from("talent_profiles").select("id, full_name, status, created_at").order("created_at",{ascending:!1}).limit(t),v.from("sponsor_profiles").select("id, full_name, organization, status, created_at").order("created_at",{ascending:!1}).limit(t),v.from("messages").select("id, sender_name, subject, status, created_at").order("created_at",{ascending:!1}).limit(t),v.from("requests").select("id, request_type, status, created_at").order("created_at",{ascending:!1}).limit(t)]),i=[];e.data?.forEach(s=>{i.push({id:`talent-${s.id}`,type:"talent",title:s.full_name,description:"New talent profile submitted",status:s.status,created_at:s.created_at})}),r.data?.forEach(s=>{i.push({id:`sponsor-${s.id}`,type:"sponsor",title:s.full_name,description:s.organization?`From ${s.organization}`:"New sponsor",status:s.status,created_at:s.created_at})}),o.data?.forEach(s=>{i.push({id:`message-${s.id}`,type:"message",title:s.sender_name,description:s.subject||"New message",status:s.status,created_at:s.created_at})}),a.data?.forEach(s=>{i.push({id:`request-${s.id}`,type:"request",title:"New Request",description:s.request_type.replace("_"," "),status:s.status,created_at:s.created_at})}),i.sort((s,c)=>new Date(c.created_at).getTime()-new Date(s.created_at).getTime());const l=i.slice(0,t);return{data:l,count:l.length,error:null}}catch(e){return me(e)}}function Ct(t,e=[]){let r=[];function o(i,l){const s=f.createContext(l);s.displayName=i+"Context";const c=r.length;r=[...r,l];const u=g=>{const{scope:y,children:h,...x}=g,w=y?.[t]?.[c]||s,d=f.useMemo(()=>x,Object.values(x));return n.jsx(w.Provider,{value:d,children:h})};u.displayName=i+"Provider";function m(g,y){const h=y?.[t]?.[c]||s,x=f.useContext(h);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[u,m]}const a=()=>{const i=r.map(l=>f.createContext(l));return function(s){const c=s?.[t]||i;return f.useMemo(()=>({[`__scope${t}`]:{...s,[t]:c}}),[s,c])}};return a.scopeName=t,[o,At(a,...e)]}function At(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const o=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=o.reduce((s,{useScope:c,scopeName:u})=>{const g=c(i)[`__scope${u}`];return{...s,...g}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return r.scopeName=e.scopeName,r}var Pt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Y=Pt.reduce((t,e)=>{const r=Se(`Primitive.${e}`),o=f.forwardRef((a,i)=>{const{asChild:l,...s}=a,c=l?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...s,ref:i})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{}),z={exports:{}},H={};var ne;function Ot(){if(ne)return H;ne=1;var t=_e();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var r=typeof Object.is=="function"?Object.is:e,o=t.useState,a=t.useEffect,i=t.useLayoutEffect,l=t.useDebugValue;function s(g,y){var h=y(),x=o({inst:{value:h,getSnapshot:y}}),w=x[0].inst,d=x[1];return i(function(){w.value=h,w.getSnapshot=y,c(w)&&d({inst:w})},[g,h,y]),a(function(){return c(w)&&d({inst:w}),g(function(){c(w)&&d({inst:w})})},[g]),l(h),h}function c(g){var y=g.getSnapshot;g=g.value;try{var h=y();return!r(g,h)}catch{return!0}}function u(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:s;return H.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,H}var oe;function $t(){return oe||(oe=1,z.exports=Ot()),z.exports}var Ft=$t();function Bt(){return Ft.useSyncExternalStore(Ut,()=>!0,()=>!1)}function Ut(){return()=>{}}var J="Avatar",[zt]=Ct(J),[Ht,ge]=zt(J),pe=f.forwardRef((t,e)=>{const{__scopeAvatar:r,...o}=t,[a,i]=f.useState("idle");return n.jsx(Ht,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:n.jsx(Y.span,{...o,ref:e})})});pe.displayName=J;var ye="AvatarImage",Vt=f.forwardRef((t,e)=>{const{__scopeAvatar:r,src:o,onLoadingStatusChange:a=()=>{},...i}=t,l=ge(ye,r),s=Xt(o,i),c=Le(u=>{a(u),l.onImageLoadingStatusChange(u)});return V(()=>{s!=="idle"&&c(s)},[s,c]),s==="loaded"?n.jsx(Y.img,{...i,ref:e,src:o}):null});Vt.displayName=ye;var xe="AvatarFallback",we=f.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:o,...a}=t,i=ge(xe,r),[l,s]=f.useState(o===void 0);return f.useEffect(()=>{if(o!==void 0){const c=window.setTimeout(()=>s(!0),o);return()=>window.clearTimeout(c)}},[o]),l&&i.imageLoadingStatus!=="loaded"?n.jsx(Y.span,{...a,ref:e}):null});we.displayName=xe;function ce(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Xt(t,{referrerPolicy:e,crossOrigin:r}){const o=Bt(),a=f.useRef(null),i=o?(a.current||(a.current=new window.Image),a.current):null,[l,s]=f.useState(()=>ce(i,t));return V(()=>{s(ce(i,t))},[i,t]),V(()=>{const c=g=>()=>{s(g)};if(!i)return;const u=c("loaded"),m=c("error");return i.addEventListener("load",u),i.addEventListener("error",m),e&&(i.referrerPolicy=e),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",m)}},[i,r,e]),l}var Qt=pe,Yt=we;function Jt({className:t,...e}){return n.jsx(Qt,{"data-slot":"avatar",className:j("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...e})}function Wt({className:t,...e}){return n.jsx(Yt,{"data-slot":"avatar-fallback",className:j("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function Gt({...t}){return n.jsx(Ce,{"data-slot":"sheet",...t})}function Kt({...t}){return n.jsx(Fe,{"data-slot":"sheet-trigger",...t})}function Zt({...t}){return n.jsx(Be,{"data-slot":"sheet-portal",...t})}function er({className:t,...e}){return n.jsx(Ue,{"data-slot":"sheet-overlay",className:j("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function tr({className:t,children:e,side:r="right",...o}){return n.jsxs(Zt,{children:[n.jsx(er,{}),n.jsxs(Ae,{"data-slot":"sheet-content",className:j("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...o,children:[e,n.jsxs(Pe,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[n.jsx(le,{className:"size-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Rr({className:t,...e}){return n.jsx("div",{"data-slot":"sheet-header",className:j("flex flex-col gap-1.5 p-4",t),...e})}function Lr({className:t,...e}){return n.jsx(Oe,{"data-slot":"sheet-title",className:j("text-foreground font-semibold",t),...e})}function Cr({className:t,...e}){return n.jsx($e,{"data-slot":"sheet-description",className:j("text-muted-foreground text-sm",t),...e})}function Ar(t={}){const{filters:e={},pagination:r={page:1,perPage:10},autoRefresh:o=!1,refreshInterval:a=3e4}=t,[i,l]=f.useState({data:[],count:0,page:1,perPage:10,totalPages:0,error:null}),[s,c]=f.useState(!0),[u,m]=f.useState(null),g=f.useRef(0),y=500,h=f.useCallback(async(x=!1)=>{const w=Date.now();if(!x&&w-g.current<y){console.log("[useTalentList] Skipping fetch - too soon");return}g.current=w,c(!0),m(null);try{const d=await mt({filters:e,pagination:r});if(d.error)throw d.error;l(d)}catch(d){let p="Failed to fetch talent";if(d instanceof Error)p=d.message;else if(typeof d=="object"&&d!==null){const S=d;S.message?p=String(S.message):S.error?p=String(S.error):p=JSON.stringify(d)}else typeof d=="string"&&(p=d);(p.includes("429")||p.includes("Too many requests"))&&(p="Too many requests. Please wait a moment and try again."),console.error("[useTalentList] Error:",d),m(p)}finally{c(!1)}},[e,r]);return f.useEffect(()=>{h()},[h]),f.useEffect(()=>{if(!o)return;const x=setInterval(()=>h(!0),a);return()=>clearInterval(x)},[o,a,h]),{data:i,isLoading:s,error:u,refresh:()=>h(!0)}}function Pr(t){const[e,r]=f.useState(null),[o,a]=f.useState(!1),[i,l]=f.useState(null);f.useEffect(()=>{if(!t){r(null);return}(async()=>{a(!0),l(null);try{const m=await $(t);if(m.error)throw m.error;r(m.data)}catch(m){l(m instanceof Error?m.message:"Failed to fetch talent")}finally{a(!1)}})()},[t]);const s=f.useCallback(async(u,m)=>{if(!t)return{success:!1,error:new Error("No talent ID")};try{const g=await gt(t,u,m);if(g.error)throw g.error;const y=await $(t);return r(y.data),{success:!0,error:null}}catch(g){return{success:!1,error:g instanceof Error?g:new Error(String(g))}}},[t]),c=f.useCallback(async()=>t?pt(t):{success:!1,error:new Error("No talent ID")},[t]);return{data:e,isLoading:o,error:i,updateStatus:s,remove:c,refresh:async()=>{if(t){const u=await $(t);r(u.data)}}}}function Or(t={}){const{filters:e={},pagination:r={page:1,perPage:10},autoRefresh:o=!1,refreshInterval:a=3e4}=t,[i,l]=f.useState({data:[],count:0,page:1,perPage:10,totalPages:0,error:null}),[s,c]=f.useState(!0),[u,m]=f.useState(null),g=f.useRef(0),y=500,h=f.useCallback(async(x=!1)=>{const w=Date.now();if(!x&&w-g.current<y){console.log("[useSponsorList] Skipping fetch - too soon");return}g.current=w,c(!0),m(null);try{const d=await xt({filters:e,pagination:r});if(d.error)throw d.error;l(d)}catch(d){let p="Failed to fetch sponsors";if(d instanceof Error)p=d.message;else if(typeof d=="object"&&d!==null){const S=d;S.message?p=String(S.message):S.error?p=String(S.error):p=JSON.stringify(d)}else typeof d=="string"&&(p=d);(p.includes("429")||p.includes("Too many requests"))&&(p="Too many requests. Please wait a moment and try again."),console.error("[useSponsorList] Error:",d),m(p)}finally{c(!1)}},[e,r]);return f.useEffect(()=>{h()},[h]),f.useEffect(()=>{if(!o)return;const x=setInterval(()=>h(!0),a);return()=>clearInterval(x)},[o,a,h]),{data:i,isLoading:s,error:u,refresh:()=>h(!0)}}function $r(t){const[e,r]=f.useState(null),[o,a]=f.useState(!1),[i,l]=f.useState(null);f.useEffect(()=>{if(!t){r(null);return}(async()=>{a(!0);try{const m=await F(t);if(m.error)throw m.error;r(m.data)}catch(m){l(m instanceof Error?m.message:"Failed to fetch sponsor")}finally{a(!1)}})()},[t]);const s=f.useCallback(async u=>{if(!t)return{success:!1,error:new Error("No sponsor ID")};try{const m=await vt(t,u);if(m.error)throw m.error;const g=await F(t);return r(g.data),{success:!0,error:null}}catch(m){return{success:!1,error:m instanceof Error?m:new Error(String(m))}}},[t]),c=f.useCallback(async()=>t?St(t):{success:!1,error:new Error("No sponsor ID")},[t]);return{data:e,isLoading:o,error:i,updateStatus:s,remove:c,refresh:async()=>{if(t){const u=await F(t);r(u.data)}}}}function Fr(t={}){const{filters:e={},pagination:r={page:1,perPage:10},autoRefresh:o=!1,refreshInterval:a=3e4}=t,[i,l]=f.useState({data:[],count:0,page:1,perPage:10,totalPages:0,error:null}),[s,c]=f.useState(!0),[u,m]=f.useState(null),g=f.useRef(0),y=500,h=f.useCallback(async(x=!1)=>{const w=Date.now();if(!x&&w-g.current<y){console.log("[useRequestList] Skipping fetch - too soon");return}g.current=w,c(!0),m(null);try{const d=await bt({filters:e,pagination:r,withRelations:!0});if(d.error)throw d.error;l(d)}catch(d){let p="Failed to fetch requests";if(d instanceof Error)p=d.message;else if(typeof d=="object"&&d!==null){const S=d;S.message?p=String(S.message):S.error?p=String(S.error):p=JSON.stringify(d)}else typeof d=="string"&&(p=d);(p.includes("429")||p.includes("Too many requests"))&&(p="Too many requests. Please wait a moment and try again."),console.error("[useRequestList] Error:",d),m(p)}finally{c(!1)}},[e,r]);return f.useEffect(()=>{h()},[h]),f.useEffect(()=>{if(!o)return;const x=setInterval(()=>h(!0),a);return()=>clearInterval(x)},[o,a,h]),{data:i,isLoading:s,error:u,refresh:()=>h(!0)}}function Br(t){const[e,r]=f.useState(null),[o,a]=f.useState(!1);f.useEffect(()=>{if(!t){r(null);return}(async()=>{a(!0);const s=await B(t);r(s.data),a(!1)})()},[t]);const i=f.useCallback(async l=>{if(!t)return{success:!1,error:new Error("No request ID")};try{const s=await Nt(t,l);if(s.error)throw s.error;const c=await B(t);return r(c.data),{success:!0,error:null}}catch(s){return{success:!1,error:s instanceof Error?s:new Error(String(s))}}},[t]);return{data:e,isLoading:o,updateStatus:i,refresh:async()=>{if(t){const l=await B(t);r(l.data)}}}}function Ur(t={}){const{filters:e={},pagination:r={page:1,perPage:10},autoRefresh:o=!1,refreshInterval:a=3e4}=t,[i,l]=f.useState({data:[],count:0,page:1,perPage:10,totalPages:0,error:null}),[s,c]=f.useState(!0),[u,m]=f.useState(null),g=f.useRef(0),y=500,h=f.useCallback(async(x=!1)=>{const w=Date.now();if(!x&&w-g.current<y){console.log("[useMessageList] Skipping fetch - too soon");return}g.current=w,c(!0),m(null);try{const d=await Dt({filters:e,pagination:r});if(d.error)throw d.error;l(d)}catch(d){let p="Failed to fetch messages";if(d instanceof Error)p=d.message;else if(typeof d=="object"&&d!==null){const S=d;S.message?p=String(S.message):S.error?p=String(S.error):p=JSON.stringify(d)}else typeof d=="string"&&(p=d);(p.includes("429")||p.includes("Too many requests"))&&(p="Too many requests. Please wait a moment and try again."),console.error("[useMessageList] Error:",d),m(p)}finally{c(!1)}},[e,r]);return f.useEffect(()=>{h()},[h]),f.useEffect(()=>{if(!o)return;const x=setInterval(()=>h(!0),a);return()=>clearInterval(x)},[o,a,h]),{data:i,isLoading:s,error:u,refresh:()=>h(!0)}}function zr(t){const[e,r]=f.useState(null),[o,a]=f.useState(!1);f.useEffect(()=>{if(!t){r(null);return}(async()=>{a(!0);const s=await U(t);r(s.data),a(!1)})()},[t]);const i=f.useCallback(async l=>{if(!t)return{success:!1,error:new Error("No message ID")};try{const s=await Mt(t,l);if(s.error)throw s.error;const c=await U(t);return r(c.data),{success:!0,error:null}}catch(s){return{success:!1,error:s instanceof Error?s:new Error(String(s))}}},[t]);return{data:e,isLoading:o,updateStatus:i,refresh:async()=>{if(t){const l=await U(t);r(l.data)}}}}function rr(t={}){const{autoRefresh:e=!0,refreshInterval:r=6e4}=t,[o,a]=f.useState(null),[i,l]=f.useState(!0),[s,c]=f.useState(null),[u,m]=f.useState(null),g=f.useRef(0),y=500,h=f.useCallback(async(x=!1)=>{const w=Date.now();if(!x&&w-g.current<y){console.log("[useDashboardMetrics] Skipping fetch - too soon");return}g.current=w,l(!0),c(null);try{console.log("[Dashboard] Fetching metrics...");const d=await Tt();if(console.log("[Dashboard] Metrics result:",d),d.error)throw d.error;a(d.data),m(new Date),console.log("[Dashboard] Metrics loaded:",d.data)}catch(d){let p="Failed to fetch metrics";if(d instanceof Error)p=d.message;else if(typeof d=="object"&&d!==null){const S=d;S.message?p=String(S.message):S.error?p=String(S.error):p=JSON.stringify(d)}else typeof d=="string"&&(p=d);(p.includes("429")||p.includes("Too many requests"))&&(p="Too many requests. Please wait a moment and try again."),console.error("[Dashboard] Error fetching metrics:",d),c(p)}finally{l(!1)}},[]);return f.useEffect(()=>{h()},[h]),f.useEffect(()=>{if(!e)return;const x=setInterval(()=>h(!0),r);return()=>clearInterval(x)},[e,r,h]),{data:o,isLoading:i,error:s,lastUpdated:u,refresh:()=>h(!0)}}function Hr(t={}){const{days:e=30}=t,[r,o]=f.useState({trend:[],isLoading:!0,error:null});return f.useEffect(()=>{(async()=>{o(i=>({...i,isLoading:!0,error:null}));try{const i=await Rt(e);if(i.error)throw i.error;o({trend:i.data||[],isLoading:!1,error:null})}catch(i){o({trend:[],isLoading:!1,error:i instanceof Error?i.message:"Failed to fetch analytics"})}})()},[e]),r}function Vr(t={}){const{limit:e=10,autoRefresh:r=!1,refreshInterval:o=6e4}=t,[a,i]=f.useState([]),[l,s]=f.useState(!0),[c,u]=f.useState(null),m=f.useRef(0),g=500,y=f.useCallback(async(h=!1)=>{const x=Date.now();if(!h&&x-m.current<g){console.log("[useActivityLogs] Skipping fetch - too soon");return}m.current=x,s(!0),u(null);try{const w=await Lt(e);if(w.error)throw w.error;i(w.data)}catch(w){let d="Failed to fetch activity";if(w instanceof Error)d=w.message;else if(typeof w=="object"&&w!==null){const p=w;p.message?d=String(p.message):p.error?d=String(p.error):d=JSON.stringify(w)}else typeof w=="string"&&(d=w);(d.includes("429")||d.includes("Too many requests"))&&(d="Too many requests. Please wait a moment and try again."),console.error("[useActivityLogs] Error:",w),u(d)}finally{s(!1)}},[e]);return f.useEffect(()=>{y()},[y]),f.useEffect(()=>{if(!r)return;const h=setInterval(()=>y(!0),o);return()=>clearInterval(h)},[r,o,y]),{data:a,isLoading:l,error:c,refresh:()=>y(!0)}}function Xr(t){const[e,r]=f.useState([]),[o,a]=f.useState(!0);return f.useEffect(()=>{(async()=>{a(!0);try{let l;switch(t){case"talent":l=await yt();break;case"sponsor":l=await _t();break;case"message":l=await kt();break;default:l={data:[],error:null}}l.data&&r(l.data)}finally{a(!1)}})()},[t]),{counts:e,isLoading:o}}function sr(){const[t,e]=f.useState(0);return f.useEffect(()=>{const r=async()=>{const a=await It();e(a)};r();const o=setInterval(r,3e4);return()=>{clearInterval(o)}},[]),t}function Qr({children:t,title:e,subtitle:r,actions:o,isLoading:a,onRefresh:i,lastUpdated:l}){const s=be(),c=je(),[u,m]=f.useState(!1),[g,y]=f.useState(!1),[h,x]=f.useState(""),[w,d]=f.useState(!1),{data:p}=rr({autoRefresh:!0}),S=sr(),M=[{path:"/admin",label:"Overview",icon:Te},{path:"/admin/talent",label:"Talent",icon:P,badge:p?.talent?.pending||0},{path:"/admin/sponsors",label:"Sponsors",icon:ze},{path:"/admin/blog",label:"Blog",icon:He},{path:"/admin/requests",label:"Requests",icon:Ve,badge:p?.requests?.open||0},{path:"/admin/messages",label:"Messages",icon:O,badge:S>0?S:void 0},{path:"/admin/analytics",label:"Analytics",icon:Re}],k=b=>b==="/admin"?s.pathname==="/admin"||s.pathname==="/admin/":s.pathname.startsWith(b),I=()=>{localStorage.removeItem("admin_session"),c("/admin/login")},ve=()=>{d(!w),document.documentElement.classList.toggle("dark")};return n.jsxs("div",{className:"min-h-screen bg-gray-50/50 dark:bg-gray-950",children:[n.jsx("header",{className:"sticky top-0 z-50 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800",children:n.jsxs("div",{className:"flex h-16 items-center gap-4 px-4 lg:px-6",children:[n.jsxs(Gt,{open:u,onOpenChange:m,children:[n.jsx(Kt,{asChild:!0,children:n.jsxs(N,{variant:"ghost",size:"icon",className:"lg:hidden",children:[n.jsx(Ne,{className:"h-5 w-5"}),n.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),n.jsx(tr,{side:"left",className:"w-72 p-0",children:n.jsx(ar,{navItems:M,getIsActive:k,metrics:p,onClose:()=>m(!1)})})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-9 h-9 rounded-lg bg-gradient-to-br from-rose-500 to-orange-500 flex items-center justify-center",children:n.jsx(he,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"hidden sm:block",children:[n.jsx("h1",{className:"text-lg font-bold tracking-tight",children:"Recommend Her"}),n.jsx("p",{className:"text-xs text-muted-foreground -mt-0.5",children:"Admin Dashboard"})]})]}),n.jsx("nav",{className:"hidden lg:flex items-center gap-1 ml-6",children:M.map(b=>n.jsxs(ue,{to:b.path,className:j("flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors",k(b.path)?"bg-rose-50 text-rose-600 dark:bg-rose-950/30 dark:text-rose-400":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800"),children:[n.jsx(b.icon,{className:"w-4 h-4"}),b.label,b.badge?n.jsx(R,{variant:"secondary",className:"ml-1 h-5 px-1.5 text-xs",children:b.badge}):null]},b.path))}),n.jsx("div",{className:"flex-1"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:j("flex items-center transition-all duration-200",g?"w-64":"w-auto"),children:g?n.jsxs("div",{className:"relative w-full",children:[n.jsx(te,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(Ee,{autoFocus:!0,placeholder:"Search...",value:h,onChange:b=>x(b.target.value),onBlur:()=>!h&&y(!1),className:"pl-9 pr-9 h-9"}),n.jsx(N,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>{x(""),y(!1)},children:n.jsx(le,{className:"w-4 h-4"})})]}):n.jsx(N,{variant:"ghost",size:"icon",onClick:()=>y(!0),children:n.jsx(te,{className:"w-4 h-4"})})}),i&&n.jsx(N,{variant:"ghost",size:"icon",onClick:i,disabled:a,className:"hidden sm:flex",children:n.jsx(De,{className:j("w-4 h-4",a&&"animate-spin")})}),n.jsx(N,{variant:"ghost",size:"icon",onClick:ve,className:"hidden sm:flex",children:w?n.jsx(tt,{className:"w-4 h-4"}):n.jsx(Ge,{className:"w-4 h-4"})}),n.jsxs(K,{children:[n.jsx(Z,{asChild:!0,children:n.jsxs(N,{variant:"ghost",size:"icon",className:"relative",children:[n.jsx(Xe,{className:"w-4 h-4"}),S>0&&n.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-rose-500 rounded-full"})]})}),n.jsxs(ee,{align:"end",className:"w-80",children:[n.jsxs("div",{className:"p-3",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Notifications"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:S>0?`${S} unread messages`:"No new notifications"})]}),n.jsx(A,{}),n.jsxs(T,{onClick:()=>c("/admin/messages"),children:[n.jsx(O,{className:"w-4 h-4 mr-2"}),"View Messages"]}),n.jsxs(T,{onClick:()=>c("/admin/talent"),children:[n.jsx(P,{className:"w-4 h-4 mr-2"}),"Review Talent"]})]})]}),n.jsxs(K,{children:[n.jsx(Z,{asChild:!0,children:n.jsxs(N,{variant:"ghost",className:"gap-2 pl-2 pr-3",children:[n.jsx(Jt,{className:"w-7 h-7",children:n.jsx(Wt,{className:"bg-gradient-to-br from-rose-500 to-orange-500 text-white text-xs",children:"AD"})}),n.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"Admin"}),n.jsx(Qe,{className:"w-4 h-4 text-muted-foreground"})]})}),n.jsxs(ee,{align:"end",children:[n.jsxs("div",{className:"px-2 py-1.5",children:[n.jsx("p",{className:"text-sm font-medium",children:"Super Admin"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"admin@recommendher.com"})]}),n.jsx(A,{}),n.jsxs(T,{onClick:()=>c("/admin/settings"),children:[n.jsx(Ze,{className:"w-4 h-4 mr-2"}),"Settings"]}),n.jsx(A,{}),n.jsxs(T,{onClick:I,className:"text-red-600",children:[n.jsx(Je,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})]})]})}),n.jsxs("div",{className:"flex",children:[n.jsx("aside",{className:"hidden lg:block w-64 fixed left-0 top-16 bottom-0 bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800 overflow-y-auto",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-6",children:[n.jsx(ie,{label:"Talent",value:p?.talent?.total||0,trend:p?.talent?.newThisWeek||0}),n.jsx(ie,{label:"Sponsors",value:p?.sponsors?.total||0,trend:p?.sponsors?.newThisMonth||0})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider px-3 mb-2",children:"Quick Links"}),n.jsxs(N,{variant:"ghost",className:"w-full justify-start text-sm",onClick:()=>c("/admin/talent?status=pending"),children:[n.jsx(P,{className:"w-4 h-4 mr-2"}),"Pending Reviews",p&&p.talent?.pending>0&&n.jsx(R,{variant:"destructive",className:"ml-auto text-xs",children:p.talent.pending})]}),n.jsxs(N,{variant:"ghost",className:"w-full justify-start text-sm",onClick:()=>c("/admin/messages?status=unread"),children:[n.jsx(O,{className:"w-4 h-4 mr-2"}),"Unread Messages",S>0&&n.jsx(R,{variant:"destructive",className:"ml-auto text-xs",children:S})]})]}),l&&n.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-800",children:n.jsxs("p",{className:"text-xs text-muted-foreground px-3",children:["Last updated: ",qt(l.toISOString())]})})]})}),n.jsx("main",{className:"flex-1 lg:ml-64 min-h-[calc(100vh-64px)]",children:n.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[(e||r||o)&&n.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[e&&n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:e}),r&&n.jsx("p",{className:"text-muted-foreground mt-1",children:r})]}),o&&n.jsx("div",{className:"flex items-center gap-2",children:o})]}),t]})})]})]})}function ar({navItems:t,getIsActive:e,metrics:r,onClose:o}){return n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-9 h-9 rounded-lg bg-gradient-to-br from-rose-500 to-orange-500 flex items-center justify-center",children:n.jsx(he,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"font-bold",children:"Recommend Her"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin Dashboard"})]})]})}),n.jsx("nav",{className:"flex-1 p-4 space-y-1",children:t.map(a=>n.jsxs(ue,{to:a.path,onClick:o,className:j("flex items-center gap-3 px-3 py-3 rounded-lg text-sm font-medium transition-colors",e(a.path)?"bg-rose-50 text-rose-600 dark:bg-rose-950/30 dark:text-rose-400":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800"),children:[n.jsx(a.icon,{className:"w-5 h-5"}),a.label,a.badge?n.jsx(R,{variant:"secondary",className:"ml-auto",children:a.badge}):null]},a.path))}),n.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800",children:n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Talent"}),n.jsx("p",{className:"text-lg font-bold",children:r?.talent?.total||0})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Sponsors"}),n.jsx("p",{className:"text-lg font-bold",children:r?.sponsors?.total||0})]})]})})]})}function ie({label:t,value:e,trend:r}){return n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:t}),n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"text-lg font-bold",children:e}),r?n.jsxs("span",{className:"text-xs text-green-600 font-medium",children:["+",r]}):null]})]})}export{Qr as A,Mr as B,kr as C,Ze as D,E as M,Dr as R,Gt as S,jr as T,Vr as a,Hr as b,Xr as c,Ar as d,Pr as e,qt as f,Tr as g,re as h,tr as i,Rr as j,Lr as k,Cr as l,Ir as m,Or as n,$r as o,Nr as p,_r as q,qr as r,Fr as s,Br as t,rr as u,Er as v,se as w,br as x,Ur as y,zr as z};
