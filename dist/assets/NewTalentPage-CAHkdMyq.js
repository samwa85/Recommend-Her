import{u as G,r as v,j as e,L as K,B as h,X as k,b as H,C as z,t as C}from"./index-DFWiVR3s.js";import{I as i}from"./input-BRfSl6Ko.js";import{L as a}from"./label-DnMOE1GO.js";import{S as d,a as m,b as u,c as x,d as c}from"./select-CZ5lG6Ed.js";import{C as p,a as g,b as j,d as f}from"./card-DMwxKRzs.js";import{S as A}from"./separator-RiPzQeSZ.js";import{A as W,m as $}from"./AdminLayout-BZSyr1bk.js";import"./client-CrqYG681.js";import{I as q}from"./database.types-C-zkObjv.js";import{U as Q}from"./user-BbxCiuRz.js";import{M as Y}from"./mail-zjxhTzbQ.js";import{M as J}from"./map-pin-B_pGTqhx.js";import{B as X}from"./briefcase-io7vhDVd.js";import{G as Z}from"./globe-Cv_YPYL4.js";import{A as ee}from"./award-BSmr-2pK.js";import{P as S}from"./plus-CXLdNYAN.js";import{F as se}from"./file-text-BQI-XE8w.js";import{A as le}from"./arrow-left-DhkVyi8y.js";import"./index-Cl4iP5m9.js";import"./index-CWO8BEd0.js";import"./index-CAsnp8AP.js";import"./tslib.es6-eMSY344_.js";import"./index-DJ6pmmvH.js";import"./index-DVAE1cjs.js";import"./chevron-down-CnxfN6eY.js";import"./dropdown-menu-BOXuGTFg.js";import"./index-DmaXBg08.js";import"./badge-CHNks9Gx.js";import"./errors-B3_eVdCY.js";import"./users-DCngZZIb.js";import"./building-2-De9H6TkV.js";import"./message-square-Bcw3mLo6.js";import"./shield-CSwj9smG.js";import"./search-B2QVa34Y.js";import"./bell-FNheItAI.js";const ae=["Entry Level","Mid Level","Senior","Lead","Manager","Director","VP","C-Level"],re=["Engineering","Product","Design","Marketing","Sales","Operations","Finance","HR","Legal","Data","Research","Customer Success"],ne=[{value:"remote",label:"Remote"},{value:"hybrid",label:"Hybrid"},{value:"onsite",label:"On-site"}],ie=["High School","Bachelor's Degree","Master's Degree","MBA","PhD","Other"],te=["Leadership","Strategy","Product Management","Project Management","Data Analysis","Marketing","Sales","Operations","Finance","Engineering","Design","Communication","Team Management"],ce=["English","Spanish","French","German","Mandarin","Japanese","Portuguese","Arabic","Russian","Italian","Dutch","Korean"];function He(){const w=G(),[b,F]=v.useState(!1),[y,L]=v.useState(""),[_,E]=v.useState(""),[N,I]=v.useState(""),[l,o]=v.useState({full_name:"",email:"",phone:"",country:"",city:"",headline:"",bio:"",current_role_title:"",years_experience:"",industry:"",role_category:"",seniority_level:"",education_level:"",skills:[],languages:[],seeking_roles:[],linkedin_url:"",portfolio_url:"",website_url:"",work_mode_preference:"",salary_range:"",internal_notes:"",status:"pending",visibility:"private",source:"admin-manual",gdpr_consent:!0}),r=(s,n)=>{o(t=>({...t,[s]:n}))},P=()=>{y.trim()&&!l.skills.includes(y.trim())&&(o(s=>({...s,skills:[...s.skills,y.trim()]})),L(""))},T=s=>{o(n=>({...n,skills:n.skills.filter(t=>t!==s)}))},M=()=>{_.trim()&&!l.languages.includes(_.trim())&&(o(s=>({...s,languages:[...s.languages,_.trim()]})),E(""))},O=s=>{o(n=>({...n,languages:n.languages.filter(t=>t!==s)}))},D=()=>{N.trim()&&!l.seeking_roles.includes(N.trim())&&(o(s=>({...s,seeking_roles:[...s.seeking_roles,N.trim()]})),I(""))},V=s=>{o(n=>({...n,seeking_roles:n.seeking_roles.filter(t=>t!==s)}))},B=()=>l.full_name.trim()?l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)?null:"Please enter a valid email":"Email is required":"Full name is required",U=async s=>{s.preventDefault();const n=B();if(n){C.error(n);return}F(!0);try{const t=await $({full_name:l.full_name.trim(),email:l.email.trim().toLowerCase(),phone:l.phone.trim()||null,country:l.country.trim()||null,city:l.city.trim()||null,headline:l.headline.trim()||null,bio:l.bio.trim()||null,current_role_title:l.current_role_title.trim()||null,years_experience:l.years_experience?parseInt(l.years_experience):null,industry:l.industry||null,role_category:l.role_category||null,seniority_level:l.seniority_level||null,education_level:l.education_level||null,skills:l.skills.length>0?l.skills:null,languages:l.languages.length>0?l.languages:null,seeking_roles:l.seeking_roles.length>0?l.seeking_roles:null,linkedin_url:l.linkedin_url.trim()||null,portfolio_url:l.portfolio_url.trim()||null,website_url:l.website_url.trim()||null,work_mode_preference:l.work_mode_preference||null,salary_range:l.salary_range||null,internal_notes:l.internal_notes.trim()||null,status:l.status,visibility:l.visibility,source:l.source,gdpr_consent:l.gdpr_consent,referral_code:null});if(t.error)throw t.error;C.success("Talent profile created successfully"),w("/admin/talent")}catch(t){console.error("Error creating talent:",t),C.error(t instanceof Error?t.message:"Failed to create talent profile")}finally{F(!1)}},R=()=>{w("/admin/talent")};return e.jsx(W,{title:"Add New Talent",subtitle:"Create a new talent profile manually",actions:e.jsxs(h,{variant:"outline",size:"sm",onClick:R,children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Back to Talent"]}),children:e.jsxs("form",{onSubmit:U,className:"space-y-6",children:[e.jsxs(p,{children:[e.jsx(g,{children:e.jsxs(j,{className:"text-base font-medium flex items-center gap-2",children:[e.jsx(Q,{className:"w-4 h-4 text-muted-foreground"}),"Personal Information"]})}),e.jsx(f,{className:"space-y-4",children:e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(a,{htmlFor:"full_name",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(i,{id:"full_name",placeholder:"Enter full name",value:l.full_name,onChange:s=>r("full_name",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(a,{htmlFor:"email",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Y,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(i,{id:"email",type:"email",placeholder:"email@example.com",value:l.email,onChange:s=>r("email",s.target.value),className:"pl-9"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"phone",children:"Phone Number"}),e.jsx(i,{id:"phone",placeholder:"+1 (555) 000-0000",value:l.phone,onChange:s=>r("phone",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"city",children:"City"}),e.jsxs("div",{className:"relative",children:[e.jsx(J,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(i,{id:"city",placeholder:"City",value:l.city,onChange:s=>r("city",s.target.value),className:"pl-9"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"country",children:"Country"}),e.jsx(i,{id:"country",placeholder:"Country",value:l.country,onChange:s=>r("country",s.target.value)})]})]})})]}),e.jsxs(p,{children:[e.jsx(g,{children:e.jsxs(j,{className:"text-base font-medium flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4 text-muted-foreground"}),"Professional Information"]})}),e.jsx(f,{className:"space-y-4",children:e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(a,{htmlFor:"headline",children:"Professional Headline"}),e.jsx(i,{id:"headline",placeholder:"e.g., Senior Product Manager with 10 years experience",value:l.headline,onChange:s=>r("headline",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"current_role_title",children:"Current Title"}),e.jsx(i,{id:"current_role_title",placeholder:"e.g., Product Manager",value:l.current_role_title,onChange:s=>r("current_role_title",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"years_experience",children:"Years of Experience"}),e.jsx(i,{id:"years_experience",type:"number",placeholder:"e.g., 5",value:l.years_experience,onChange:s=>r("years_experience",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"seniority_level",children:"Seniority Level"}),e.jsxs(d,{value:l.seniority_level,onValueChange:s=>r("seniority_level",s),children:[e.jsx(m,{children:e.jsx(u,{placeholder:"Select level"})}),e.jsx(x,{children:ae.map(s=>e.jsx(c,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"industry",children:"Industry"}),e.jsxs(d,{value:l.industry,onValueChange:s=>r("industry",s),children:[e.jsx(m,{children:e.jsx(u,{placeholder:"Select industry"})}),e.jsx(x,{children:q.map(s=>e.jsx(c,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"role_category",children:"Role Category"}),e.jsxs(d,{value:l.role_category,onValueChange:s=>r("role_category",s),children:[e.jsx(m,{children:e.jsx(u,{placeholder:"Select category"})}),e.jsx(x,{children:re.map(s=>e.jsx(c,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"education_level",children:"Education Level"}),e.jsxs(d,{value:l.education_level,onValueChange:s=>r("education_level",s),children:[e.jsx(m,{children:e.jsx(u,{placeholder:"Select education"})}),e.jsx(x,{children:ie.map(s=>e.jsx(c,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(a,{htmlFor:"bio",children:"Bio / Summary"}),e.jsx("textarea",{id:"bio",rows:4,placeholder:"Brief professional summary...",value:l.bio,onChange:s=>r("bio",s.target.value),className:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 resize-none"})]})]})})]}),e.jsxs(p,{children:[e.jsx(g,{children:e.jsxs(j,{className:"text-base font-medium flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4 text-muted-foreground"}),"Links"]})}),e.jsx(f,{className:"space-y-4",children:e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"linkedin_url",children:"LinkedIn URL"}),e.jsxs("div",{className:"relative",children:[e.jsx(K,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(i,{id:"linkedin_url",placeholder:"https://linkedin.com/in/profile",value:l.linkedin_url,onChange:s=>r("linkedin_url",s.target.value),className:"pl-9"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"portfolio_url",children:"Portfolio URL"}),e.jsx(i,{id:"portfolio_url",placeholder:"https://portfolio.com",value:l.portfolio_url,onChange:s=>r("portfolio_url",s.target.value)})]}),e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(a,{htmlFor:"website_url",children:"Personal Website"}),e.jsx(i,{id:"website_url",placeholder:"https://personal-website.com",value:l.website_url,onChange:s=>r("website_url",s.target.value)})]})]})})]}),e.jsxs(p,{children:[e.jsx(g,{children:e.jsxs(j,{className:"text-base font-medium flex items-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4 text-muted-foreground"}),"Skills & Expertise"]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Skills"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{placeholder:"Add a skill...",value:y,onChange:s=>L(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),P())}}),e.jsx(h,{type:"button",variant:"outline",onClick:P,children:e.jsx(S,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.skills.map(s=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-primary/10 text-primary text-sm",children:[s,e.jsx("button",{type:"button",onClick:()=>T(s),className:"hover:text-primary/70",children:e.jsx(k,{className:"w-3 h-3"})})]},s))}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Quick add:"}),te.filter(s=>!l.skills.includes(s)).slice(0,6).map(s=>e.jsxs("button",{type:"button",onClick:()=>o(n=>({...n,skills:[...n.skills,s]})),className:"text-xs text-primary hover:underline",children:["+",s]},s))]})]}),e.jsx(A,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Languages"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{placeholder:"Add a language...",value:_,onChange:s=>E(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),M())}}),e.jsx(h,{type:"button",variant:"outline",onClick:M,children:e.jsx(S,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.languages.map(s=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-secondary text-secondary-foreground text-sm",children:[s,e.jsx("button",{type:"button",onClick:()=>O(s),className:"hover:text-secondary-foreground/70",children:e.jsx(k,{className:"w-3 h-3"})})]},s))}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Quick add:"}),ce.filter(s=>!l.languages.includes(s)).slice(0,5).map(s=>e.jsxs("button",{type:"button",onClick:()=>o(n=>({...n,languages:[...n.languages,s]})),className:"text-xs text-primary hover:underline",children:["+",s]},s))]})]}),e.jsx(A,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Roles They're Seeking"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{placeholder:"Add a role...",value:N,onChange:s=>I(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),D())}}),e.jsx(h,{type:"button",variant:"outline",onClick:D,children:e.jsx(S,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.seeking_roles.map(s=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-blue-100 text-blue-700 text-sm",children:[s,e.jsx("button",{type:"button",onClick:()=>V(s),className:"hover:text-blue-900",children:e.jsx(k,{className:"w-3 h-3"})})]},s))})]})]})]}),e.jsxs(p,{children:[e.jsx(g,{children:e.jsx(j,{className:"text-base font-medium",children:"Preferences"})}),e.jsx(f,{className:"space-y-4",children:e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"work_mode_preference",children:"Work Mode Preference"}),e.jsxs(d,{value:l.work_mode_preference,onValueChange:s=>r("work_mode_preference",s),children:[e.jsx(m,{children:e.jsx(u,{placeholder:"Select preference"})}),e.jsx(x,{children:ne.map(s=>e.jsx(c,{value:s.value,children:s.label},s.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"salary_range",children:"Salary Range Expectation"}),e.jsx(i,{id:"salary_range",placeholder:"e.g., $80k - $120k",value:l.salary_range,onChange:s=>r("salary_range",s.target.value)})]})]})})]}),e.jsxs(p,{children:[e.jsx(g,{children:e.jsxs(j,{className:"text-base font-medium flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4 text-muted-foreground"}),"Admin Notes"]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"internal_notes",children:"Internal Notes"}),e.jsx("textarea",{id:"internal_notes",rows:3,placeholder:"Private notes for admin use only...",value:l.internal_notes,onChange:s=>r("internal_notes",s.target.value),className:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 resize-none"})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"status",children:"Initial Status"}),e.jsxs(d,{value:l.status,onValueChange:s=>r("status",s),children:[e.jsx(m,{children:e.jsx(u,{})}),e.jsxs(x,{children:[e.jsx(c,{value:"pending",children:"Pending"}),e.jsx(c,{value:"approved",children:"Approved"}),e.jsx(c,{value:"rejected",children:"Rejected"}),e.jsx(c,{value:"submitted",children:"Submitted"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"visibility",children:"Visibility"}),e.jsxs(d,{value:l.visibility,onValueChange:s=>r("visibility",s),children:[e.jsx(m,{children:e.jsx(u,{})}),e.jsxs(x,{children:[e.jsx(c,{value:"private",children:"Private"}),e.jsx(c,{value:"public",children:"Public"})]})]})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[e.jsx(h,{type:"button",variant:"outline",onClick:R,disabled:b,children:"Cancel"}),e.jsx(h,{type:"submit",disabled:b,className:"min-w-[140px]",children:b?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"w-4 h-4"}),"Create Talent"]})})]})]})})}export{He as default};
