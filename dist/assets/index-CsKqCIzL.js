import{j as c,a as b,r as s,i as V}from"./index-qoOME8mY.js";import{c as z,o as q,a as P,b as p,u as J,d as Q}from"./index-EHAx_rFm.js";import{b as W,a as X}from"./index-C7Xr5Zjk.js";function fe({className:e,...t}){return c.jsx("div",{"data-slot":"card",className:b("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function me({className:e,...t}){return c.jsx("div",{"data-slot":"card-header",className:b("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function pe({className:e,...t}){return c.jsx("div",{"data-slot":"card-title",className:b("leading-none font-semibold",e),...t})}function ve({className:e,...t}){return c.jsx("div",{"data-slot":"card-description",className:b("text-muted-foreground text-sm",e),...t})}function be({className:e,...t}){return c.jsx("div",{"data-slot":"card-content",className:b("px-6",e),...t})}var A="rovingFocusGroup.onEntryFocus",Z={bubbles:!1,cancelable:!0},g="RovingFocusGroup",[N,G,$]=W(g),[ee,ge]=z(g,[$]),[te,oe]=ee(g),O=s.forwardRef((e,t)=>c.jsx(N.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(N.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(re,{...e,ref:t})})}));O.displayName=g;var re=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:a,orientation:o,loop:w=!1,dir:E,currentTabStopId:v,defaultCurrentTabStopId:T,onCurrentTabStopIdChange:S,onEntryFocus:m,preventScrollOnEntryFocus:u=!1,...I}=e,F=s.useRef(null),x=V(t,F),C=X(E),[R,r]=J({prop:v,defaultProp:T??null,onChange:S,caller:g}),[d,h]=s.useState(!1),i=Q(m),l=G(a),_=s.useRef(!1),[L,D]=s.useState(0);return s.useEffect(()=>{const n=F.current;if(n)return n.addEventListener(A,i),()=>n.removeEventListener(A,i)},[i]),c.jsx(te,{scope:a,orientation:o,dir:C,loop:w,currentTabStopId:R,onItemFocus:s.useCallback(n=>r(n),[r]),onItemShiftTab:s.useCallback(()=>h(!0),[]),onFocusableItemAdd:s.useCallback(()=>D(n=>n+1),[]),onFocusableItemRemove:s.useCallback(()=>D(n=>n-1),[]),children:c.jsx(P.div,{tabIndex:d||L===0?-1:0,"data-orientation":o,...I,ref:x,style:{outline:"none",...e.style},onMouseDown:p(e.onMouseDown,()=>{_.current=!0}),onFocus:p(e.onFocus,n=>{const U=!_.current;if(n.target===n.currentTarget&&U&&!d){const j=new CustomEvent(A,Z);if(n.currentTarget.dispatchEvent(j),!j.defaultPrevented){const y=l().filter(f=>f.focusable),B=y.find(f=>f.active),H=y.find(f=>f.id===R),Y=[B,H,...y].filter(Boolean).map(f=>f.ref.current);k(Y,u)}}_.current=!1}),onBlur:p(e.onBlur,()=>h(!1))})})}),K="RovingFocusGroupItem",M=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:a,focusable:o=!0,active:w=!1,tabStopId:E,children:v,...T}=e,S=q(),m=E||S,u=oe(K,a),I=u.currentTabStopId===m,F=G(a),{onFocusableItemAdd:x,onFocusableItemRemove:C,currentTabStopId:R}=u;return s.useEffect(()=>{if(o)return x(),()=>C()},[o,x,C]),c.jsx(N.ItemSlot,{scope:a,id:m,focusable:o,active:w,children:c.jsx(P.span,{tabIndex:I?0:-1,"data-orientation":u.orientation,...T,ref:t,onMouseDown:p(e.onMouseDown,r=>{o?u.onItemFocus(m):r.preventDefault()}),onFocus:p(e.onFocus,()=>u.onItemFocus(m)),onKeyDown:p(e.onKeyDown,r=>{if(r.key==="Tab"&&r.shiftKey){u.onItemShiftTab();return}if(r.target!==r.currentTarget)return;const d=ae(r,u.orientation,u.dir);if(d!==void 0){if(r.metaKey||r.ctrlKey||r.altKey||r.shiftKey)return;r.preventDefault();let i=F().filter(l=>l.focusable).map(l=>l.ref.current);if(d==="last")i.reverse();else if(d==="prev"||d==="next"){d==="prev"&&i.reverse();const l=i.indexOf(r.currentTarget);i=u.loop?ce(i,l+1):i.slice(l+1)}setTimeout(()=>k(i))}}),children:typeof v=="function"?v({isCurrentTabStop:I,hasTabStop:R!=null}):v})})});M.displayName=K;var ne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function se(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ae(e,t,a){const o=se(e.key,a);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return ne[o]}function k(e,t=!1){const a=document.activeElement;for(const o of e)if(o===a||(o.focus({preventScroll:t}),document.activeElement!==a))return}function ce(e,t){return e.map((a,o)=>e[(t+o)%e.length])}var Ie=O,Fe=M;export{fe as C,Fe as I,Ie as R,me as a,pe as b,ve as c,be as d,ge as e};
