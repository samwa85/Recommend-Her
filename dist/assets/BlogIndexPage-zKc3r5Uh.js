import{r as o,g as u,j as e,d as h,B as m,b as T,h as A,S as D}from"./index-CTBFlb6B.js";import{B as C}from"./badge-DXHBdx_O.js";import"./client-Anx0SkdC.js";import{g as E,a as I}from"./blog-BTXA-yV_.js";import{b as k,g as y}from"./blog-DPhomwrC.js";import{C as S}from"./calendar-Dv8liY45.js";import{C as _}from"./clock-BnyVGg6r.js";import{T as L}from"./tag-CKMK3LkH.js";import"./errors-B3_eVdCY.js";function P(c){return c.map(t=>({id:t.slug,slug:t.slug,title:t.title,excerpt:t.excerpt,content:t.content,featured_image:t.author?.image||null,video_url:null,author_name:t.author?.name||"Recommend Her Team",author_title:t.author?.title||null,author_image:t.author?.image||null,category:t.category,tags:t.tags||[],read_time:t.readTime,status:"published",published_at:new Date(t.date).toISOString(),meta_title:null,meta_description:null,created_at:new Date(t.date).toISOString(),updated_at:new Date(t.date).toISOString(),created_by:null}))}u.registerPlugin(D);function W(){const c=o.useRef(null),t=o.useRef(null),[g,f]=o.useState([]),[r,p]=o.useState(null),[B,j]=o.useState([]),[n,N]=o.useState(!0),[l,b]=o.useState(""),v=o.useCallback(async()=>{N(!0);let s=!1;try{const[i,d]=await Promise.all([E(l?{category:l}:{}),I()]);if(i.error?(console.warn("[Blog] Database fetch failed, using static fallback:",i.error),s=!0):(!i.data||i.data.length===0)&&(console.log("[Blog] No posts in database, using static fallback"),s=!0),s){const a=P(k),x=l?a.filter(R=>R.category===l):a;f(l?x:x.slice(1)),p(l?null:x[0]||null),j(y())}else{const a=i.data||[];f(l?a:a.slice(1)),p(l?null:a[0]||null),j(d.length>0?d:y())}}catch(i){console.error("[Blog] Error fetching posts, using static fallback:",i);const d=P(k),a=l?d.filter(x=>x.category===l):d;f(l?a:a.slice(1)),p(l?null:a[0]||null),j(y())}finally{N(!1)}},[l]);o.useEffect(()=>{v()},[v]),o.useEffect(()=>{if(n)return;const s=u.context(()=>{u.fromTo(c.current,{opacity:0,y:30},{opacity:1,y:0,duration:.6,ease:"power2.out",scrollTrigger:{trigger:c.current,start:"top 80%"}}),t.current&&u.fromTo(t.current.children,{opacity:0,y:30},{opacity:1,y:0,duration:.5,stagger:.1,ease:"power2.out",scrollTrigger:{trigger:t.current,start:"top 80%"}})});return()=>s.revert()},[n,g]);const w=s=>s?new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e.jsxs("div",{style:{backgroundColor:"hsl(var(--background))"},className:"min-h-screen",children:[e.jsx("section",{className:"pt-32 pb-16 px-4 sm:px-6 lg:px-8",style:{backgroundColor:"oklch(0.35 0.15 340)"},children:e.jsxs("div",{ref:c,className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6 text-sm text-white/70",children:[e.jsx(h,{to:"/",className:"hover:text-white transition-colors",children:"Home"}),e.jsx("span",{children:"/"}),e.jsx(h,{to:"/resources",className:"hover:text-white transition-colors",children:"Resources"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-white",children:"Blog"})]}),e.jsx("h1",{className:"font-serif text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-4",children:"Blog"}),e.jsx("p",{className:"font-sans text-lg sm:text-xl text-white/80 max-w-2xl",children:"Insights, success stories, and thought leadership to help you on your sponsorship journey."})]})}),e.jsx("section",{className:"py-6 px-4 sm:px-6 lg:px-8 border-b",style:{borderColor:"hsl(var(--border))"},children:e.jsxs("div",{className:"max-w-6xl mx-auto flex flex-wrap items-center gap-3",children:[e.jsx("span",{className:"text-sm font-medium",style:{color:"hsl(var(--muted-foreground))"},children:"Filter by:"}),e.jsx(m,{variant:l===""?"secondary":"outline",size:"sm",onClick:()=>b(""),children:"All"}),B.map(s=>e.jsx(m,{variant:l===s?"secondary":"outline",size:"sm",onClick:()=>b(s),children:s},s))]})}),n&&e.jsxs("section",{className:"py-24 px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx(T,{className:"w-12 h-12 mx-auto animate-spin text-primary"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading articles..."})]}),!n&&r&&!l&&e.jsx("section",{className:"py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("h2",{className:"font-serif text-2xl font-bold mb-6",style:{color:"hsl(var(--foreground))"},children:"Featured Article"}),e.jsx(h,{to:`/blog/${r.slug}`,className:"group block relative rounded-2xl overflow-hidden",style:{backgroundColor:"oklch(0.35 0.15 340)"},children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-0",children:[e.jsxs("div",{className:"p-8 lg:p-12 flex flex-col justify-center",children:[e.jsx(C,{className:"mb-4 w-fit",style:{backgroundColor:"rgba(255,255,255,0.2)",color:"#fff"},children:r.category}),e.jsx("h3",{className:"font-serif text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-4 group-hover:text-pink-200 transition-colors",children:r.title}),e.jsx("p",{className:"text-white/80 mb-6 text-lg",children:r.excerpt}),e.jsxs("div",{className:"flex items-center gap-4 text-white/70 text-sm mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center text-xs font-bold",children:r.author_name?.split(" ").map(s=>s[0]).join("")}),e.jsx("span",{children:r.author_name})]}),e.jsx("span",{children:"•"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(S,{className:"w-4 h-4"}),w(r.published_at||r.created_at)]}),e.jsx("span",{children:"•"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(_,{className:"w-4 h-4"}),r.read_time]})]}),e.jsxs(m,{className:"w-fit bg-white text-indigo-900 hover:bg-white/90 group-hover:translate-x-1 transition-transform",children:["Read Article",e.jsx(A,{className:"w-4 h-4 ml-2"})]})]}),e.jsx("div",{className:"hidden lg:flex items-center justify-center p-12",children:e.jsx("div",{className:"w-full max-w-md aspect-square rounded-2xl bg-gradient-to-br from-pink-400/30 to-purple-500/30 flex items-center justify-center",children:e.jsx("span",{className:"font-serif text-8xl text-white/20",children:"“"})})})]})})]})}),!n&&e.jsx("section",{className:"py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("h2",{className:"font-serif text-2xl font-bold mb-8",style:{color:"hsl(var(--foreground))"},children:l||"All Articles"}),g.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("p",{className:"text-muted-foreground",children:"No articles found in this category."}),e.jsx(m,{variant:"outline",className:"mt-4",onClick:()=>b(""),children:"View All Articles"})]}):e.jsx("div",{ref:t,className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(s=>e.jsx("article",{className:"group flex flex-col rounded-xl border overflow-hidden transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",style:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))"},children:e.jsxs(h,{to:`/blog/${s.slug}`,className:"flex flex-col flex-grow",children:[e.jsx("div",{className:"h-48 flex items-center justify-center",style:{backgroundColor:"oklch(0.35 0.15 340)"},children:s.featured_image?e.jsx("img",{src:s.featured_image,alt:s.title,className:"w-full h-full object-cover"}):e.jsx("span",{className:"font-serif text-6xl text-white/20",children:"“"})}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[e.jsx("div",{className:"flex items-center gap-3 mb-3",children:e.jsx(C,{variant:"secondary",children:s.category})}),e.jsx("h3",{className:"font-serif text-xl font-bold mb-2 group-hover:text-primary transition-colors",style:{color:"hsl(var(--foreground))"},children:s.title}),e.jsx("p",{className:"text-sm line-clamp-3 mb-4 flex-grow",style:{color:"hsl(var(--muted-foreground))"},children:s.excerpt}),e.jsxs("div",{className:"flex items-center gap-3 text-xs pt-4 border-t",style:{borderColor:"hsl(var(--border))"},children:[e.jsxs("div",{className:"flex items-center gap-1",style:{color:"hsl(var(--muted-foreground))"},children:[e.jsx(S,{className:"w-3 h-3"}),w(s.published_at||s.created_at)]}),e.jsxs("div",{className:"flex items-center gap-1",style:{color:"hsl(var(--muted-foreground))"},children:[e.jsx(_,{className:"w-3 h-3"}),s.read_time]})]})]})]})},s.slug))})]})}),e.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 border-t",style:{borderColor:"hsl(var(--border))"},children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full mb-6",style:{backgroundColor:"oklch(0.35 0.15 340)"},children:e.jsx(L,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"font-serif text-2xl sm:text-3xl font-bold mb-4",style:{color:"hsl(var(--foreground))"},children:"Stay Updated"}),e.jsx("p",{className:"mb-8 max-w-xl mx-auto",style:{color:"hsl(var(--muted-foreground))"},children:"Get the latest articles, success stories, and insights delivered to your inbox."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center max-w-md mx-auto",children:[e.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-3 rounded-lg border",style:{backgroundColor:"hsl(var(--background))",borderColor:"hsl(var(--border))"}}),e.jsx(m,{children:"Subscribe"})]})]})})]})}export{W as default};
