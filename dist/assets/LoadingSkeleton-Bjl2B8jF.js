import{c as P,r as p,j as a,l as Ae,m as Ne,a as w,X as le,n as ke,u as Ee,B as A,M as De,N as ue,o as Me}from"./index-BdCLm_2q.js";import{I as Ie}from"./input-CJTBT2o9.js";import{t as N,e as Ce,n as Q,g as G,f as qe,h as Te,m as K,i as M,p as me,j as Re,k as pe,L as Pe,C as Oe,D as Z,a as ee,b as te,c as O,d as I}from"./parseISO--f4aoRI6.js";import{B as T}from"./badge-DyNZl9wy.js";import{u as $e,f as J,R as Be,e as Ue,C as ze,d as Fe,T as He,P as Ve,O as Xe}from"./index-p6lGUO2k.js";import"./tslib.es6-ywRZ5Esg.js";import{c as Je,C as Qe}from"./index-2gvreq7C.js";import{U as $}from"./users-DZKOeETJ.js";import{B as Ye}from"./building-2-CR-r7spi.js";import{M as We}from"./message-square-BKrPQKGn.js";import{M as B}from"./mail-DFPmZ15m.js";import{S as fe}from"./shield-Bd7IaV_q.js";import{S as se}from"./search-D_d7FJv8.js";import{B as Ge}from"./bell-zZ1kEipe.js";import{S}from"./skeleton-BRfOg84M.js";import{C as he,a as Ke,d as ge}from"./index-DB36gIdi.js";const Ze=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],et=P("log-out",Ze);const tt=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],st=P("moon",tt);const at=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nt=P("settings",at);const rt=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ot=P("sun",rt);function ct(t,e=[]){let s=[];function o(c,m){const n=p.createContext(m);n.displayName=c+"Context";const i=s.length;s=[...s,m];const d=l=>{const{scope:f,children:g,...x}=l,y=f?.[t]?.[i]||n,j=p.useMemo(()=>x,Object.values(x));return a.jsx(y.Provider,{value:j,children:g})};d.displayName=c+"Provider";function u(l,f){const g=f?.[t]?.[i]||n,x=p.useContext(g);if(x)return x;if(m!==void 0)return m;throw new Error(`\`${l}\` must be used within \`${c}\``)}return[d,u]}const r=()=>{const c=s.map(m=>p.createContext(m));return function(n){const i=n?.[t]||c;return p.useMemo(()=>({[`__scope${t}`]:{...n,[t]:i}}),[n,i])}};return r.scopeName=t,[o,it(r,...e)]}function it(...t){const e=t[0];if(t.length===1)return e;const s=()=>{const o=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(c){const m=o.reduce((n,{useScope:i,scopeName:d})=>{const l=i(c)[`__scope${d}`];return{...n,...l}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:m}),[m])}};return s.scopeName=e.scopeName,s}var dt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Y=dt.reduce((t,e)=>{const s=Ae(`Primitive.${e}`),o=p.forwardRef((r,c)=>{const{asChild:m,...n}=r,i=m?s:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(i,{...n,ref:c})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{}),U={exports:{}},z={};var ae;function lt(){if(ae)return z;ae=1;var t=Ne();function e(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var s=typeof Object.is=="function"?Object.is:e,o=t.useState,r=t.useEffect,c=t.useLayoutEffect,m=t.useDebugValue;function n(l,f){var g=f(),x=o({inst:{value:g,getSnapshot:f}}),y=x[0].inst,j=x[1];return c(function(){y.value=g,y.getSnapshot=f,i(y)&&j({inst:y})},[l,g,f]),r(function(){return i(y)&&j({inst:y}),l(function(){i(y)&&j({inst:y})})},[l]),m(g),g}function i(l){var f=l.getSnapshot;l=l.value;try{var g=f();return!s(l,g)}catch{return!0}}function d(l,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:n;return z.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,z}var ne;function ut(){return ne||(ne=1,U.exports=lt()),U.exports}var mt=ut();function pt(){return mt.useSyncExternalStore(ft,()=>!0,()=>!1)}function ft(){return()=>{}}var W="Avatar",[ht]=ct(W),[gt,xe]=ht(W),ye=p.forwardRef((t,e)=>{const{__scopeAvatar:s,...o}=t,[r,c]=p.useState("idle");return a.jsx(gt,{scope:s,imageLoadingStatus:r,onImageLoadingStatusChange:c,children:a.jsx(Y.span,{...o,ref:e})})});ye.displayName=W;var Se="AvatarImage",xt=p.forwardRef((t,e)=>{const{__scopeAvatar:s,src:o,onLoadingStatusChange:r=()=>{},...c}=t,m=xe(Se,s),n=yt(o,c),i=$e(d=>{r(d),m.onImageLoadingStatusChange(d)});return J(()=>{n!=="idle"&&i(n)},[n,i]),n==="loaded"?a.jsx(Y.img,{...c,ref:e,src:o}):null});xt.displayName=Se;var we="AvatarFallback",ve=p.forwardRef((t,e)=>{const{__scopeAvatar:s,delayMs:o,...r}=t,c=xe(we,s),[m,n]=p.useState(o===void 0);return p.useEffect(()=>{if(o!==void 0){const i=window.setTimeout(()=>n(!0),o);return()=>window.clearTimeout(i)}},[o]),m&&c.imageLoadingStatus!=="loaded"?a.jsx(Y.span,{...r,ref:e}):null});ve.displayName=we;function re(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function yt(t,{referrerPolicy:e,crossOrigin:s}){const o=pt(),r=p.useRef(null),c=o?(r.current||(r.current=new window.Image),r.current):null,[m,n]=p.useState(()=>re(c,t));return J(()=>{n(re(c,t))},[c,t]),J(()=>{const i=l=>()=>{n(l)};if(!c)return;const d=i("loaded"),u=i("error");return c.addEventListener("load",d),c.addEventListener("error",u),e&&(c.referrerPolicy=e),typeof s=="string"&&(c.crossOrigin=s),()=>{c.removeEventListener("load",d),c.removeEventListener("error",u)}},[c,s,e]),m}var St=ye,wt=ve;function vt({className:t,...e}){return a.jsx(St,{"code-path":"src/components/ui/avatar.tsx:11:5","data-slot":"avatar",className:w("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...e})}function Lt({className:t,...e}){return a.jsx(wt,{"code-path":"src/components/ui/avatar.tsx:40:5","data-slot":"avatar-fallback",className:w("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function _t({...t}){return a.jsx(Be,{"code-path":"src/components/ui/sheet.tsx:8:10","data-slot":"sheet",...t})}function jt({...t}){return a.jsx(Ue,{"code-path":"src/components/ui/sheet.tsx:14:10","data-slot":"sheet-trigger",...t})}function bt({...t}){return a.jsx(Ve,{"code-path":"src/components/ui/sheet.tsx:26:10","data-slot":"sheet-portal",...t})}function At({className:t,...e}){return a.jsx(Xe,{"code-path":"src/components/ui/sheet.tsx:34:5","data-slot":"sheet-overlay",className:w("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Nt({className:t,children:e,side:s="right",...o}){return a.jsxs(bt,{"code-path":"src/components/ui/sheet.tsx:54:5",children:[a.jsx(At,{"code-path":"src/components/ui/sheet.tsx:55:7"}),a.jsxs(ze,{"code-path":"src/components/ui/sheet.tsx:56:7","data-slot":"sheet-content",className:w("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",s==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",s==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",s==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",s==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...o,children:[e,a.jsxs(Fe,{"code-path":"src/components/ui/sheet.tsx:73:9",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[a.jsx(le,{"code-path":"src/components/ui/sheet.tsx:74:11",className:"size-4"}),a.jsx("span",{"code-path":"src/components/ui/sheet.tsx:75:11",className:"sr-only",children:"Close"})]})]})]})}function Cs({className:t,...e}){return a.jsx("div",{"code-path":"src/components/ui/sheet.tsx:84:5","data-slot":"sheet-header",className:w("flex flex-col gap-1.5 p-4",t),...e})}function qs({className:t,...e}){return a.jsx(He,{"code-path":"src/components/ui/sheet.tsx:107:5","data-slot":"sheet-title",className:w("text-foreground font-semibold",t),...e})}let C=null;function kt(){return C||(C=Je("http://supabasekong-dcgko804wcgwow4s4ko40000.145.223.96.191.sslip.io","eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc3MDg5MTcyMCwiZXhwIjo0OTI2NTY1MzIwLCJyb2xlIjoiYW5vbiJ9.o3IrcUgo8uwNNWSshycVC6CgyxA7KExx_RR5DLwJRmE"),C)}const h=kt();async function Ts(t,e,s=3600){try{const{data:o,error:r}=await h.storage.from(e).createSignedUrl(t,s);if(r)throw r;return o?.signedUrl||null}catch(o){return console.error("Error getting signed URL:",o),null}}const oe={APPROVED:"approved",REJECTED:"rejected"},Rs={ACTIVE:"active",INACTIVE:"inactive"},Ps={LOW:"low",NORMAL:"normal",HIGH:"high",URGENT:"urgent"},ce={APPROVED:"approved",CLOSED:"closed"},Le={UNREAD:"unread",READ:"read",REPLIED:"replied",ARCHIVED:"archived",SPAM:"spam"},Et={pending:"Pending Review",approved:"Approved",rejected:"Rejected",archived:"Archived"},Dt={active:"Active",inactive:"Inactive",archived:"Archived"},Mt={open:"Open",in_review:"In Review",approved:"Approved",rejected:"Rejected",closed:"Closed"},Os={low:"Low",normal:"Normal",high:"High",urgent:"Urgent"},It={unread:"Unread",read:"Read",replied:"Replied",archived:"Archived",spam:"Spam"},Ct={...Et,...Dt,...Mt,...It};function $s(t){return Ct[t]||t}const Bs={pending:"secondary",approved:"default",rejected:"destructive",archived:"outline",active:"default",inactive:"secondary",open:"secondary",in_review:"outline",closed:"outline",unread:"secondary",read:"outline",replied:"default",spam:"destructive"};function _e(t){const e={23505:"A record with this information already exists.",23503:"This record is referenced by other data and cannot be modified.",23514:"Invalid data: some field values do not meet requirements.",23502:"Required field is missing.",P0001:"The operation could not be completed."};return t.code&&e[t.code]?e[t.code]:t.message?.includes("JWT")?"Session expired. Please log in again.":t.message?.includes("network")?"Network error. Please check your connection and try again.":t.message?.includes("timeout")?"Request timed out. Please try again.":t.code==="404"||t.message?.includes("not found")?"The requested record was not found.":t.message||"An unexpected error occurred"}function je(t){let e;return typeof t=="object"&&t!==null&&"code"in t?e=_e(t):t instanceof Error?e=t.message:e=String(t)||"An unexpected error occurred",console.error("[Query Error]:",t),{data:[],count:0,error:new Error(e)}}function _(t){let e;return typeof t=="object"&&t!==null&&"code"in t?e=_e(t):t instanceof Error?e=t.message:e=String(t)||"An unexpected error occurred",console.error("[Query Error]:",t),{data:null,error:new Error(e)}}function R(t,e){const s=+N(t)-+N(e);return s<0?-1:s>0?1:s}function qt(t){return Ce(t,Date.now())}function Tt(t,e,s){const[o,r]=Q(s?.in,t,e),c=o.getFullYear()-r.getFullYear(),m=o.getMonth()-r.getMonth();return c*12+m}function Rt(t){return e=>{const o=(t?Math[t]:Math.trunc)(e);return o===0?0:o}}function Pt(t,e){return+N(t)-+N(e)}function Ot(t,e){const s=N(t,e?.in);return s.setHours(23,59,59,999),s}function $t(t,e){const s=N(t,e?.in),o=s.getMonth();return s.setFullYear(s.getFullYear(),o+1,0),s.setHours(23,59,59,999),s}function Bt(t,e){const s=N(t,e?.in);return+Ot(s,e)==+$t(s,e)}function Ut(t,e,s){const[o,r,c]=Q(s?.in,t,t,e),m=R(r,c),n=Math.abs(Tt(r,c));if(n<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-m*n);let i=R(r,c)===-m;Bt(o)&&n===1&&R(o,c)===1&&(i=!1);const d=m*(n-+i);return d===0?0:d}function zt(t,e,s){const o=Pt(t,e)/1e3;return Rt(s?.roundingMethod)(o)}function Ft(t,e,s){const o=qe(),r=s?.locale??o.locale??Te,c=2520,m=R(t,e);if(isNaN(m))throw new RangeError("Invalid time value");const n=Object.assign({},s,{addSuffix:s?.addSuffix,comparison:m}),[i,d]=Q(s?.in,...m>0?[e,t]:[t,e]),u=zt(d,i),l=(G(d)-G(i))/1e3,f=Math.round((u-l)/60);let g;if(f<2)return s?.includeSeconds?u<5?r.formatDistance("lessThanXSeconds",5,n):u<10?r.formatDistance("lessThanXSeconds",10,n):u<20?r.formatDistance("lessThanXSeconds",20,n):u<40?r.formatDistance("halfAMinute",0,n):u<60?r.formatDistance("lessThanXMinutes",1,n):r.formatDistance("xMinutes",1,n):f===0?r.formatDistance("lessThanXMinutes",1,n):r.formatDistance("xMinutes",f,n);if(f<45)return r.formatDistance("xMinutes",f,n);if(f<90)return r.formatDistance("aboutXHours",1,n);if(f<K){const x=Math.round(f/60);return r.formatDistance("aboutXHours",x,n)}else{if(f<c)return r.formatDistance("xDays",1,n);if(f<M){const x=Math.round(f/K);return r.formatDistance("xDays",x,n)}else if(f<M*2)return g=Math.round(f/M),r.formatDistance("aboutXMonths",g,n)}if(g=Ut(d,i),g<12){const x=Math.round(f/M);return r.formatDistance("xMonths",x,n)}else{const x=g%12,y=Math.trunc(g/12);return x<3?r.formatDistance("aboutXYears",y,n):x<9?r.formatDistance("overXYears",y,n):r.formatDistance("almostXYears",y+1,n)}}function Ht(t,e){return Ft(t,qt(t),e)}async function Vt(t={}){const{filters:e={},pagination:s={},withCV:o=!1}=t,r=s.page??1,c=s.perPage??25,m=s.sortBy??"created_at",n=s.sortOrder??"desc";try{let i=h.from("talent_profiles").select(o?"*, cv_file:files(*)":"*",{count:"exact"});if(e.status&&(i=i.eq("status",e.status)),e.industry&&(i=i.eq("industry",e.industry)),e.role_category&&(i=i.eq("role_category",e.role_category)),e.country&&(i=i.eq("country",e.country)),e.city&&(i=i.ilike("city",`%${e.city}%`)),e.date_from&&(i=i.gte("created_at",e.date_from)),e.date_to&&(i=i.lte("created_at",e.date_to)),e.source&&(i=i.eq("source",e.source)),e.education_level&&(i=i.eq("education_level",e.education_level)),e.search){const x=`%${e.search}%`;i=i.or(`full_name.ilike.${x},email.ilike.${x},headline.ilike.${x},phone.ilike.${x},bio.ilike.${x}`)}i=i.order(m,{ascending:n==="asc"});const d=(r-1)*c,u=d+c-1;i=i.range(d,u);const{data:l,error:f,count:g}=await i;if(f)throw f;return{data:l||[],count:g||0,page:r,perPage:c,totalPages:Math.ceil((g||0)/c),error:null}}catch(i){return{data:[],count:0,page:r,perPage:c,totalPages:0,error:i instanceof Error?i:new Error(String(i))}}}async function F(t){try{const{data:e,error:s}=await h.from("talent_profiles").select("*, cv_file:files(*)").eq("id",t).single();if(s)throw s;return{data:e,error:null}}catch(e){return _(e)}}async function Xt(t,e){try{const{data:s,error:o}=await h.from("talent_profiles").update(e).eq("id",t).select().single();if(o)throw o;return{data:s,error:null}}catch(s){return _(s)}}async function Jt(t,e,s){const o={status:e,updated_at:new Date().toISOString()};return s&&(o.internal_notes=s),(e===oe.APPROVED||e===oe.REJECTED)&&(o.reviewed_at=new Date().toISOString()),Xt(t,o)}async function Qt(t){try{const{error:e}=await h.from("talent_profiles").delete().eq("id",t);if(e)throw e;return{success:!0,error:null}}catch(e){return{success:!1,error:e instanceof Error?e:new Error(String(e))}}}async function Yt(){try{const{data:t,error:e}=await h.from("talent_profiles").select("status");if(e)throw e;const s={};return t?.forEach(r=>{s[r.status]=(s[r.status]||0)+1}),{data:Object.entries(s).map(([r,c])=>({status:r,count:c})),error:null}}catch(t){return _(t)}}async function Wt(t={}){const{filters:e={},pagination:s={}}=t,o=s.page??1,r=s.perPage??25,c=s.sortBy??"created_at",m=s.sortOrder??"desc";try{let n=h.from("sponsor_profiles").select("*",{count:"exact"});if(e.status&&(n=n.eq("status",e.status)),e.industry&&(n=n.eq("industry",e.industry)),e.company_size&&(n=n.eq("company_size",e.company_size)),e.is_recruiter!==void 0&&(n=n.eq("is_recruiter",e.is_recruiter)),e.sponsorship_amount&&(n=n.eq("sponsorship_amount",e.sponsorship_amount)),e.source&&(n=n.eq("source",e.source)),e.date_from&&(n=n.gte("created_at",e.date_from)),e.date_to&&(n=n.lte("created_at",e.date_to)),e.search){const g=`%${e.search}%`;n=n.or(`full_name.ilike.${g},email.ilike.${g},company_name.ilike.${g},phone.ilike.${g},message.ilike.${g}`)}n=n.order(c,{ascending:m==="asc"});const i=(o-1)*r,d=i+r-1;n=n.range(i,d);const{data:u,error:l,count:f}=await n;if(l)throw l;return{data:u||[],count:f||0,page:o,perPage:r,totalPages:Math.ceil((f||0)/r),error:null}}catch(n){return{data:[],count:0,page:s.page??1,perPage:s.perPage??25,totalPages:0,error:n instanceof Error?n:new Error(String(n))}}}async function H(t){try{const{data:e,error:s}=await h.from("sponsor_profiles").select("*").eq("id",t).single();if(s)throw s;return{data:e,error:null}}catch(e){return _(e)}}async function Gt(t,e){try{const{data:s,error:o}=await h.from("sponsor_profiles").update(e).eq("id",t).select().single();if(o)throw o;return{data:s,error:null}}catch(s){return _(s)}}async function Kt(t,e,s){const o={status:e,updated_at:new Date().toISOString()};return s&&(o.internal_notes=s),Gt(t,o)}async function Zt(t){try{const{error:e}=await h.from("sponsor_profiles").delete().eq("id",t);if(e)throw e;return{success:!0,error:null}}catch(e){return{success:!1,error:e instanceof Error?e:new Error(String(e))}}}async function es(){try{const{data:t,error:e}=await h.from("sponsor_profiles").select("status");if(e)throw e;const s={};return t?.forEach(r=>{s[r.status]=(s[r.status]||0)+1}),{data:Object.entries(s).map(([r,c])=>({status:r,count:c})),error:null}}catch(t){return _(t)}}async function ts(t={}){const{filters:e={},pagination:s={},withRelations:o=!1}=t,r=s.page??1,c=s.perPage??25,m=s.sortBy??"created_at",n=s.sortOrder??"desc";try{let i=o?"*, talent:talent_profiles(*), sponsor:sponsor_profiles(*)":"*",d=h.from("requests").select(i,{count:"exact"});if(e.status&&(d=d.eq("status",e.status)),e.request_type&&(d=d.eq("request_type",e.request_type)),e.priority&&(d=d.eq("priority",e.priority)),e.talent_id&&(d=d.eq("talent_id",e.talent_id)),e.sponsor_id&&(d=d.eq("sponsor_id",e.sponsor_id)),e.handled_by_admin_id&&(d=d.eq("handled_by_admin_id",e.handled_by_admin_id)),e.date_from&&(d=d.gte("created_at",e.date_from)),e.date_to&&(d=d.lte("created_at",e.date_to)),e.search){const y=`%${e.search}%`;d=d.or(`description.ilike.${y},admin_notes.ilike.${y}`)}m==="priority"&&(d=d.order("priority",{ascending:n==="asc"})),d=d.order("created_at",{ascending:n==="asc"});const u=(r-1)*c,l=u+c-1;d=d.range(u,l);const{data:f,error:g,count:x}=await d;if(g)throw g;return{data:f||[],count:x||0,page:r,perPage:c,totalPages:Math.ceil((x||0)/c),error:null}}catch(i){return{data:[],count:0,page:s.page??1,perPage:s.perPage??25,totalPages:0,error:i instanceof Error?i:new Error(String(i))}}}async function V(t){try{const{data:e,error:s}=await h.from("requests").select("*, talent:talent_profiles(*), sponsor:sponsor_profiles(*)").eq("id",t).single();if(s)throw s;return{data:e,error:null}}catch(e){return _(e)}}async function ss(t,e){try{const{data:s,error:o}=await h.from("requests").update(e).eq("id",t).select().single();if(o)throw o;return{data:s,error:null}}catch(s){return _(s)}}async function as(t,e,s){const o={status:e,updated_at:new Date().toISOString()};return s&&(o.handled_by_admin_id=s),(e===ce.CLOSED||e===ce.APPROVED)&&(o.resolved_at=new Date().toISOString()),ss(t,o)}async function ns(t={}){const{filters:e={},pagination:s={}}=t,o=s.page??1,r=s.perPage??25,c=s.sortBy??"created_at",m=s.sortOrder??"desc";try{let n=h.from("messages").select("*",{count:"exact"});if(e.status&&(n=n.eq("status",e.status)),e.sender_email&&(n=n.eq("sender_email",e.sender_email)),e.handled_by_admin_id&&(n=n.eq("handled_by_admin_id",e.handled_by_admin_id)),e.date_from&&(n=n.gte("created_at",e.date_from)),e.date_to&&(n=n.lte("created_at",e.date_to)),e.search){const g=`%${e.search}%`;n=n.or(`sender_name.ilike.${g},sender_email.ilike.${g},subject.ilike.${g},message.ilike.${g}`)}c==="status"&&(n=n.order("status",{ascending:!1})),n=n.order("created_at",{ascending:m==="asc"});const i=(o-1)*r,d=i+r-1;n=n.range(i,d);const{data:u,error:l,count:f}=await n;if(l)throw l;return{data:u||[],count:f||0,page:o,perPage:r,totalPages:Math.ceil((f||0)/r),error:null}}catch(n){return{data:[],count:0,page:s.page??1,perPage:s.perPage??25,totalPages:0,error:n instanceof Error?n:new Error(String(n))}}}async function X(t){try{const{data:e,error:s}=await h.from("messages").select("*").eq("id",t).single();if(s)throw s;return{data:e,error:null}}catch(e){return _(e)}}async function rs(t,e){try{const{data:s,error:o}=await h.from("messages").update(e).eq("id",t).select().single();if(o)throw o;return{data:s,error:null}}catch(s){return _(s)}}async function os(t,e,s){const o={status:e};return s!==void 0&&(o.handled_by_admin_id=s),e===Le.REPLIED&&(o.replied_at=new Date().toISOString()),rs(t,o)}async function cs(){try{const{data:t,error:e}=await h.from("messages").select("status");if(e)throw e;const s={};return t?.forEach(r=>{s[r.status]=(s[r.status]||0)+1}),{data:Object.entries(s).map(([r,c])=>({status:r,count:c})),error:null}}catch(t){return _(t)}}async function is(){try{const{count:t,error:e}=await h.from("messages").select("*",{count:"exact",head:!0}).eq("status",Le.UNREAD);if(e)throw e;return t||0}catch{return 0}}function Us(t,e="MMM dd, yyyy"){if(!t)return"-";const s=me(t);return pe(s)?Re(s,e):"-"}function ds(t){if(!t)return"-";const e=me(t);return pe(e)?Ht(e,{addSuffix:!0}):"-"}function ie(t){const e=new Date;return e.setDate(e.getDate()-t),e.toISOString()}async function ls(){const t=new Date().toISOString().split("T")[0],e=ie(7),s=ie(30);console.log("[getDashboardMetrics] Fetching metrics...",{today:t,weekAgo:e,monthAgo:s});try{const[o,r,c,m,n,i]=await Promise.all([h.from("talent_profiles").select("*",{count:"exact",head:!0}),h.from("talent_profiles").select("*",{count:"exact",head:!0}).eq("status","pending"),h.from("talent_profiles").select("*",{count:"exact",head:!0}).eq("status","approved"),h.from("talent_profiles").select("*",{count:"exact",head:!0}).gte("created_at",t),h.from("talent_profiles").select("*",{count:"exact",head:!0}).gte("created_at",e),h.from("talent_profiles").select("*",{count:"exact",head:!0}).gte("created_at",s)]),[d,u,l,f]=await Promise.all([h.from("sponsor_profiles").select("*",{count:"exact",head:!0}),h.from("sponsor_profiles").select("*",{count:"exact",head:!0}).eq("status","active"),h.from("sponsor_profiles").select("*",{count:"exact",head:!0}).eq("status","inactive"),h.from("sponsor_profiles").select("*",{count:"exact",head:!0}).gte("created_at",s)]),[g,x,y,j]=await Promise.all([h.from("requests").select("*",{count:"exact",head:!0}),h.from("requests").select("*",{count:"exact",head:!0}).eq("status","open"),h.from("requests").select("*",{count:"exact",head:!0}).eq("status","in_review"),h.from("requests").select("*",{count:"exact",head:!0}).eq("priority","urgent")]),[v,b,k,E]=await Promise.all([h.from("messages").select("*",{count:"exact",head:!0}),h.from("messages").select("*",{count:"exact",head:!0}).eq("status","unread"),h.from("messages").select("*",{count:"exact",head:!0}).eq("status","replied"),h.from("messages").select("*",{count:"exact",head:!0}).gte("created_at",t)]),D={talent:{total:o.count||0,pending:r.count||0,approved:c.count||0,newToday:m.count||0,newThisWeek:n.count||0,newThisMonth:i.count||0},sponsors:{total:d.count||0,active:u.count||0,inactive:l.count||0,newThisMonth:f.count||0},requests:{total:g.count||0,open:x.count||0,inReview:y.count||0,urgent:j.count||0},messages:{total:v.count||0,unread:b.count||0,replied:k.count||0,newToday:E.count||0}};return console.log("[getDashboardMetrics] Metrics fetched:",D),{data:D,error:null}}catch(o){return console.error("[getDashboardMetrics] Error:",o),_(o)}}async function us(t=30){try{const{data:e,error:s}=await h.rpc("get_submissions_trend",{days:t});if(!s&&e){const d=Array.isArray(e)?e:[];return{data:d,count:d.length,error:null}}const o=new Date;o.setDate(o.getDate()-t);const r=o.toISOString(),[c,m]=await Promise.all([h.from("talent_profiles").select("created_at").gte("created_at",r),h.from("sponsor_profiles").select("created_at").gte("created_at",r)]);if(c.error)throw c.error;if(m.error)throw m.error;const n=new Map;for(let d=0;d<t;d++){const u=new Date;u.setDate(u.getDate()-d);const l=u.toISOString().split("T")[0];n.set(l,{talent:0,sponsors:0})}c.data?.forEach(d=>{const u=new Date(d.created_at).toISOString().split("T")[0],l=n.get(u);l&&l.talent++}),m.data?.forEach(d=>{const u=new Date(d.created_at).toISOString().split("T")[0],l=n.get(u);l&&l.sponsors++});const i=Array.from(n.entries()).map(([d,u])=>({date:d,talent_count:u.talent,sponsor_count:u.sponsors})).sort((d,u)=>new Date(d.date).getTime()-new Date(u.date).getTime());return{data:i,count:i.length,error:null}}catch(e){return je(e)}}async function ms(t=10){try{const[e,s,o,r]=await Promise.all([h.from("talent_profiles").select("id, full_name, status, created_at").order("created_at",{ascending:!1}).limit(t),h.from("sponsor_profiles").select("id, full_name, company_name, status, created_at").order("created_at",{ascending:!1}).limit(t),h.from("messages").select("id, sender_name, subject, status, created_at").order("created_at",{ascending:!1}).limit(t),h.from("requests").select("id, request_type, status, created_at").order("created_at",{ascending:!1}).limit(t)]),c=[];e.data?.forEach(n=>{c.push({id:`talent-${n.id}`,type:"talent",title:n.full_name,description:"New talent profile submitted",status:n.status,created_at:n.created_at})}),s.data?.forEach(n=>{c.push({id:`sponsor-${n.id}`,type:"sponsor",title:n.full_name,description:`From ${n.company_name}`,status:n.status,created_at:n.created_at})}),o.data?.forEach(n=>{c.push({id:`message-${n.id}`,type:"message",title:n.sender_name,description:n.subject||"New message",status:n.status,created_at:n.created_at})}),r.data?.forEach(n=>{c.push({id:`request-${n.id}`,type:"request",title:"New Request",description:n.request_type.replace("_"," "),status:n.status,created_at:n.created_at})}),c.sort((n,i)=>new Date(i.created_at).getTime()-new Date(n.created_at).getTime());const m=c.slice(0,t);return{data:m,count:m.length,error:null}}catch(e){return je(e)}}function zs(t={}){const{filters:e={},pagination:s={page:1,perPage:10},autoRefresh:o=!1,refreshInterval:r=3e4}=t,[c,m]=p.useState({data:[],count:0,page:1,perPage:10,totalPages:0,error:null}),[n,i]=p.useState(!0),[d,u]=p.useState(null),l=p.useCallback(async()=>{i(!0),u(null);try{const f=await Vt({filters:e,pagination:s});if(f.error)throw f.error;m(f)}catch(f){u(f instanceof Error?f.message:"Failed to fetch talent")}finally{i(!1)}},[e,s]);return p.useEffect(()=>{l()},[l]),p.useEffect(()=>{if(!o)return;const f=setInterval(l,r);return()=>clearInterval(f)},[o,r,l]),p.useEffect(()=>{const f=h.channel("talent-changes").on("postgres_changes",{event:"*",schema:"public",table:"talent_profiles"},()=>{l()}).subscribe();return()=>{f.unsubscribe()}},[l]),{data:c,isLoading:n,error:d,refresh:l}}function Fs(t){const[e,s]=p.useState(null),[o,r]=p.useState(!1),[c,m]=p.useState(null);p.useEffect(()=>{if(!t){s(null);return}(async()=>{r(!0),m(null);try{const u=await F(t);if(u.error)throw u.error;s(u.data)}catch(u){m(u instanceof Error?u.message:"Failed to fetch talent")}finally{r(!1)}})()},[t]);const n=p.useCallback(async(d,u)=>{if(!t)return{success:!1,error:new Error("No talent ID")};try{const l=await Jt(t,d,u);if(l.error)throw l.error;const f=await F(t);return s(f.data),{success:!0,error:null}}catch(l){return{success:!1,error:l instanceof Error?l:new Error(String(l))}}},[t]),i=p.useCallback(async()=>t?Qt(t):{success:!1,error:new Error("No talent ID")},[t]);return{data:e,isLoading:o,error:c,updateStatus:n,remove:i,refresh:async()=>{if(t){const d=await F(t);s(d.data)}}}}function Hs(t={}){const{filters:e={},pagination:s={page:1,perPage:10},autoRefresh:o=!1}=t,[r,c]=p.useState({data:[],count:0,page:1,perPage:10,totalPages:0,error:null}),[m,n]=p.useState(!0),[i,d]=p.useState(null),u=p.useCallback(async()=>{n(!0),d(null);try{const l=await Wt({filters:e,pagination:s});if(l.error)throw l.error;c(l)}catch(l){d(l instanceof Error?l.message:"Failed to fetch sponsors")}finally{n(!1)}},[e,s]);return p.useEffect(()=>{u()},[u]),p.useEffect(()=>{if(!o)return;const l=setInterval(u,3e4);return()=>clearInterval(l)},[o,u]),{data:r,isLoading:m,error:i,refresh:u}}function Vs(t){const[e,s]=p.useState(null),[o,r]=p.useState(!1),[c,m]=p.useState(null);p.useEffect(()=>{if(!t){s(null);return}(async()=>{r(!0);try{const u=await H(t);if(u.error)throw u.error;s(u.data)}catch(u){m(u instanceof Error?u.message:"Failed to fetch sponsor")}finally{r(!1)}})()},[t]);const n=p.useCallback(async d=>{if(!t)return{success:!1,error:new Error("No sponsor ID")};try{const u=await Kt(t,d);if(u.error)throw u.error;const l=await H(t);return s(l.data),{success:!0,error:null}}catch(u){return{success:!1,error:u instanceof Error?u:new Error(String(u))}}},[t]),i=p.useCallback(async()=>t?Zt(t):{success:!1,error:new Error("No sponsor ID")},[t]);return{data:e,isLoading:o,error:c,updateStatus:n,remove:i,refresh:async()=>{if(t){const d=await H(t);s(d.data)}}}}function Xs(t={}){const{filters:e={},pagination:s={page:1,perPage:10},autoRefresh:o=!1}=t,[r,c]=p.useState({data:[],count:0,page:1,perPage:10,totalPages:0,error:null}),[m,n]=p.useState(!0),[i,d]=p.useState(null),u=p.useCallback(async()=>{n(!0),d(null);try{const l=await ts({filters:e,pagination:s,withRelations:!0});if(l.error)throw l.error;c(l)}catch(l){d(l instanceof Error?l.message:"Failed to fetch requests")}finally{n(!1)}},[e,s]);return p.useEffect(()=>{u()},[u]),p.useEffect(()=>{if(!o)return;const l=setInterval(u,3e4);return()=>clearInterval(l)},[o,u]),{data:r,isLoading:m,error:i,refresh:u}}function Js(t){const[e,s]=p.useState(null),[o,r]=p.useState(!1);p.useEffect(()=>{if(!t){s(null);return}(async()=>{r(!0);const n=await V(t);s(n.data),r(!1)})()},[t]);const c=p.useCallback(async m=>{if(!t)return{success:!1,error:new Error("No request ID")};try{const n=await as(t,m);if(n.error)throw n.error;const i=await V(t);return s(i.data),{success:!0,error:null}}catch(n){return{success:!1,error:n instanceof Error?n:new Error(String(n))}}},[t]);return{data:e,isLoading:o,updateStatus:c,refresh:async()=>{if(t){const m=await V(t);s(m.data)}}}}function Qs(t={}){const{filters:e={},pagination:s={page:1,perPage:10},autoRefresh:o=!1}=t,[r,c]=p.useState({data:[],count:0,page:1,perPage:10,totalPages:0,error:null}),[m,n]=p.useState(!0),[i,d]=p.useState(null),u=p.useCallback(async()=>{n(!0),d(null);try{const l=await ns({filters:e,pagination:s});if(l.error)throw l.error;c(l)}catch(l){d(l instanceof Error?l.message:"Failed to fetch messages")}finally{n(!1)}},[e,s]);return p.useEffect(()=>{u()},[u]),p.useEffect(()=>{if(!o)return;const l=setInterval(u,3e4);return()=>clearInterval(l)},[o,u]),{data:r,isLoading:m,error:i,refresh:u}}function Ys(t){const[e,s]=p.useState(null),[o,r]=p.useState(!1);p.useEffect(()=>{if(!t){s(null);return}(async()=>{r(!0);const n=await X(t);s(n.data),r(!1)})()},[t]);const c=p.useCallback(async m=>{if(!t)return{success:!1,error:new Error("No message ID")};try{const n=await os(t,m);if(n.error)throw n.error;const i=await X(t);return s(i.data),{success:!0,error:null}}catch(n){return{success:!1,error:n instanceof Error?n:new Error(String(n))}}},[t]);return{data:e,isLoading:o,updateStatus:c,refresh:async()=>{if(t){const m=await X(t);s(m.data)}}}}function ps(t={}){const{autoRefresh:e=!0,refreshInterval:s=6e4}=t,[o,r]=p.useState(null),[c,m]=p.useState(!0),[n,i]=p.useState(null),[d,u]=p.useState(null),l=p.useCallback(async()=>{m(!0),i(null);try{console.log("[Dashboard] Fetching metrics...");const f=await ls();if(console.log("[Dashboard] Metrics result:",f),f.error)throw f.error;r(f.data),u(new Date),console.log("[Dashboard] Metrics loaded:",f.data)}catch(f){console.error("[Dashboard] Error fetching metrics:",f),i(f instanceof Error?f.message:"Failed to fetch metrics")}finally{m(!1)}},[]);return p.useEffect(()=>{l()},[l]),p.useEffect(()=>{if(!e)return;const f=setInterval(l,s);return()=>clearInterval(f)},[e,s,l]),{data:o,isLoading:c,error:n,lastUpdated:d,refresh:l}}function Ws(t={}){const{days:e=30}=t,[s,o]=p.useState({trend:[],isLoading:!0,error:null});return p.useEffect(()=>{(async()=>{o(c=>({...c,isLoading:!0,error:null}));try{const c=await us(e);if(c.error)throw c.error;o({trend:c.data||[],isLoading:!1,error:null})}catch(c){o({trend:[],isLoading:!1,error:c instanceof Error?c.message:"Failed to fetch analytics"})}})()},[e]),s}function Gs(t={}){const{limit:e=10,autoRefresh:s=!1}=t,[o,r]=p.useState([]),[c,m]=p.useState(!0),[n,i]=p.useState(null),d=p.useCallback(async()=>{m(!0),i(null);try{const u=await ms(e);if(u.error)throw u.error;r(u.data)}catch(u){i(u instanceof Error?u.message:"Failed to fetch activity")}finally{m(!1)}},[e]);return p.useEffect(()=>{d()},[d]),p.useEffect(()=>{if(!s)return;const u=setInterval(d,6e4);return()=>clearInterval(u)},[s,d]),{data:o,isLoading:c,error:n,refresh:d}}function Ks(t){const[e,s]=p.useState([]),[o,r]=p.useState(!0);return p.useEffect(()=>{(async()=>{r(!0);try{let m;switch(t){case"talent":m=await Yt();break;case"sponsor":m=await es();break;case"message":m=await cs();break;default:m={data:[],error:null}}m.data&&s(m.data)}finally{r(!1)}})()},[t]),{counts:e,isLoading:o}}function fs(){const[t,e]=p.useState(0);return p.useEffect(()=>{const s=async()=>{const r=await is();e(r)};s();const o=h.channel("messages-count").on("postgres_changes",{event:"*",schema:"public",table:"messages"},()=>{s()}).subscribe();return()=>{o.unsubscribe()}},[]),t}function Zs({children:t,title:e,subtitle:s,actions:o,isLoading:r,onRefresh:c,lastUpdated:m}){const n=ke(),i=Ee(),[d,u]=p.useState(!1),[l,f]=p.useState(!1),[g,x]=p.useState(""),[y,j]=p.useState(!1),{data:v}=ps({autoRefresh:!0}),b=fs(),k=[{path:"/admin",label:"Overview",icon:Pe},{path:"/admin/talent",label:"Talent",icon:$,badge:v?.talent?.pending||0},{path:"/admin/sponsors",label:"Sponsors",icon:Ye},{path:"/admin/requests",label:"Requests",icon:We,badge:v?.requests?.open||0},{path:"/admin/messages",label:"Messages",icon:B,badge:b>0?b:void 0},{path:"/admin/analytics",label:"Analytics",icon:Oe}],E=L=>L==="/admin"?n.pathname==="/admin"||n.pathname==="/admin/":n.pathname.startsWith(L),D=()=>{localStorage.removeItem("admin_session"),i("/admin/login")},be=()=>{j(!y),document.documentElement.classList.toggle("dark")};return a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:138:5",className:"min-h-screen bg-gray-50/50 dark:bg-gray-950",children:[a.jsx("header",{"code-path":"src/admin/components/AdminLayout.tsx:140:7",className:"sticky top-0 z-50 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800",children:a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:141:9",className:"flex h-16 items-center gap-4 px-4 lg:px-6",children:[a.jsxs(_t,{"code-path":"src/admin/components/AdminLayout.tsx:143:11",open:d,onOpenChange:u,children:[a.jsx(jt,{"code-path":"src/admin/components/AdminLayout.tsx:144:13",asChild:!0,children:a.jsxs(A,{"code-path":"src/admin/components/AdminLayout.tsx:145:15",variant:"ghost",size:"icon",className:"lg:hidden",children:[a.jsx(De,{"code-path":"src/admin/components/AdminLayout.tsx:146:17",className:"h-5 w-5"}),a.jsx("span",{"code-path":"src/admin/components/AdminLayout.tsx:147:17",className:"sr-only",children:"Toggle menu"})]})}),a.jsx(Nt,{"code-path":"src/admin/components/AdminLayout.tsx:150:13",side:"left",className:"w-72 p-0",children:a.jsx(hs,{"code-path":"src/admin/components/AdminLayout.tsx:151:15",navItems:k,getIsActive:E,metrics:v,onClose:()=>u(!1)})})]}),a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:161:11",className:"flex items-center gap-3",children:[a.jsx("div",{"code-path":"src/admin/components/AdminLayout.tsx:162:13",className:"w-9 h-9 rounded-lg bg-gradient-to-br from-rose-500 to-orange-500 flex items-center justify-center",children:a.jsx(fe,{"code-path":"src/admin/components/AdminLayout.tsx:163:15",className:"w-5 h-5 text-white"})}),a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:165:13",className:"hidden sm:block",children:[a.jsx("h1",{"code-path":"src/admin/components/AdminLayout.tsx:166:15",className:"text-lg font-bold tracking-tight",children:"Recommend Her"}),a.jsx("p",{"code-path":"src/admin/components/AdminLayout.tsx:167:15",className:"text-xs text-muted-foreground -mt-0.5",children:"Admin Dashboard"})]})]}),a.jsx("nav",{"code-path":"src/admin/components/AdminLayout.tsx:172:11",className:"hidden lg:flex items-center gap-1 ml-6",children:k.map(L=>a.jsxs(ue,{"code-path":"src/admin/components/AdminLayout.tsx:174:15",to:L.path,className:w("flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors",E(L.path)?"bg-rose-50 text-rose-600 dark:bg-rose-950/30 dark:text-rose-400":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800"),children:[a.jsx(L.icon,{"code-path":"src/admin/components/AdminLayout.tsx:184:17",className:"w-4 h-4"}),L.label,L.badge?a.jsx(T,{"code-path":"src/admin/components/AdminLayout.tsx:187:19",variant:"secondary",className:"ml-1 h-5 px-1.5 text-xs",children:L.badge}):null]},L.path))}),a.jsx("div",{"code-path":"src/admin/components/AdminLayout.tsx:195:11",className:"flex-1"}),a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:198:11",className:"flex items-center gap-2",children:[a.jsx("div",{"code-path":"src/admin/components/AdminLayout.tsx:200:13",className:w("flex items-center transition-all duration-200",l?"w-64":"w-auto"),children:l?a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:205:17",className:"relative w-full",children:[a.jsx(se,{"code-path":"src/admin/components/AdminLayout.tsx:206:19",className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(Ie,{"code-path":"src/admin/components/AdminLayout.tsx:207:19",autoFocus:!0,placeholder:"Search...",value:g,onChange:L=>x(L.target.value),onBlur:()=>!g&&f(!1),className:"pl-9 pr-9 h-9"}),a.jsx(A,{"code-path":"src/admin/components/AdminLayout.tsx:215:19",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>{x(""),f(!1)},children:a.jsx(le,{"code-path":"src/admin/components/AdminLayout.tsx:224:21",className:"w-4 h-4"})})]}):a.jsx(A,{"code-path":"src/admin/components/AdminLayout.tsx:228:17",variant:"ghost",size:"icon",onClick:()=>f(!0),children:a.jsx(se,{"code-path":"src/admin/components/AdminLayout.tsx:233:19",className:"w-4 h-4"})})}),c&&a.jsx(A,{"code-path":"src/admin/components/AdminLayout.tsx:240:15",variant:"ghost",size:"icon",onClick:c,disabled:r,className:"hidden sm:flex",children:a.jsx(Me,{"code-path":"src/admin/components/AdminLayout.tsx:247:17",className:w("w-4 h-4",r&&"animate-spin")})}),a.jsx(A,{"code-path":"src/admin/components/AdminLayout.tsx:252:13",variant:"ghost",size:"icon",onClick:be,className:"hidden sm:flex",children:y?a.jsx(ot,{"code-path":"src/admin/components/AdminLayout.tsx:258:29",className:"w-4 h-4"}):a.jsx(st,{"code-path":"src/admin/components/AdminLayout.tsx:258:59",className:"w-4 h-4"})}),a.jsxs(Z,{"code-path":"src/admin/components/AdminLayout.tsx:262:13",children:[a.jsx(ee,{"code-path":"src/admin/components/AdminLayout.tsx:263:15",asChild:!0,children:a.jsxs(A,{"code-path":"src/admin/components/AdminLayout.tsx:264:17",variant:"ghost",size:"icon",className:"relative",children:[a.jsx(Ge,{"code-path":"src/admin/components/AdminLayout.tsx:265:19",className:"w-4 h-4"}),b>0&&a.jsx("span",{"code-path":"src/admin/components/AdminLayout.tsx:267:21",className:"absolute top-1.5 right-1.5 w-2 h-2 bg-rose-500 rounded-full"})]})}),a.jsxs(te,{"code-path":"src/admin/components/AdminLayout.tsx:271:15",align:"end",className:"w-80",children:[a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:272:17",className:"p-3",children:[a.jsx("h4",{"code-path":"src/admin/components/AdminLayout.tsx:273:19",className:"font-medium text-sm",children:"Notifications"}),a.jsx("p",{"code-path":"src/admin/components/AdminLayout.tsx:274:19",className:"text-xs text-muted-foreground mt-1",children:b>0?`${b} unread messages`:"No new notifications"})]}),a.jsx(O,{"code-path":"src/admin/components/AdminLayout.tsx:280:17"}),a.jsxs(I,{"code-path":"src/admin/components/AdminLayout.tsx:281:17",onClick:()=>i("/admin/messages"),children:[a.jsx(B,{"code-path":"src/admin/components/AdminLayout.tsx:282:19",className:"w-4 h-4 mr-2"}),"View Messages"]}),a.jsxs(I,{"code-path":"src/admin/components/AdminLayout.tsx:285:17",onClick:()=>i("/admin/talent"),children:[a.jsx($,{"code-path":"src/admin/components/AdminLayout.tsx:286:19",className:"w-4 h-4 mr-2"}),"Review Talent"]})]})]}),a.jsxs(Z,{"code-path":"src/admin/components/AdminLayout.tsx:293:13",children:[a.jsx(ee,{"code-path":"src/admin/components/AdminLayout.tsx:294:15",asChild:!0,children:a.jsxs(A,{"code-path":"src/admin/components/AdminLayout.tsx:295:17",variant:"ghost",className:"gap-2 pl-2 pr-3",children:[a.jsx(vt,{"code-path":"src/admin/components/AdminLayout.tsx:296:19",className:"w-7 h-7",children:a.jsx(Lt,{"code-path":"src/admin/components/AdminLayout.tsx:297:21",className:"bg-gradient-to-br from-rose-500 to-orange-500 text-white text-xs",children:"AD"})}),a.jsx("span",{"code-path":"src/admin/components/AdminLayout.tsx:301:19",className:"hidden sm:inline text-sm font-medium",children:"Admin"}),a.jsx(Qe,{"code-path":"src/admin/components/AdminLayout.tsx:302:19",className:"w-4 h-4 text-muted-foreground"})]})}),a.jsxs(te,{"code-path":"src/admin/components/AdminLayout.tsx:305:15",align:"end",children:[a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:306:17",className:"px-2 py-1.5",children:[a.jsx("p",{"code-path":"src/admin/components/AdminLayout.tsx:307:19",className:"text-sm font-medium",children:"Super Admin"}),a.jsx("p",{"code-path":"src/admin/components/AdminLayout.tsx:308:19",className:"text-xs text-muted-foreground",children:"admin@recommendher.com"})]}),a.jsx(O,{"code-path":"src/admin/components/AdminLayout.tsx:310:17"}),a.jsxs(I,{"code-path":"src/admin/components/AdminLayout.tsx:311:17",onClick:()=>i("/admin/settings"),children:[a.jsx(nt,{"code-path":"src/admin/components/AdminLayout.tsx:312:19",className:"w-4 h-4 mr-2"}),"Settings"]}),a.jsx(O,{"code-path":"src/admin/components/AdminLayout.tsx:315:17"}),a.jsxs(I,{"code-path":"src/admin/components/AdminLayout.tsx:316:17",onClick:D,className:"text-red-600",children:[a.jsx(et,{"code-path":"src/admin/components/AdminLayout.tsx:317:19",className:"w-4 h-4 mr-2"}),"Logout"]})]})]})]})]})}),a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:327:7",className:"flex",children:[a.jsx("aside",{"code-path":"src/admin/components/AdminLayout.tsx:329:9",className:"hidden lg:block w-64 fixed left-0 top-16 bottom-0 bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800 overflow-y-auto",children:a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:330:11",className:"p-4",children:[a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:332:13",className:"grid grid-cols-2 gap-2 mb-6",children:[a.jsx(de,{"code-path":"src/admin/components/AdminLayout.tsx:333:15",label:"Talent",value:v?.talent?.total||0,trend:v?.talent?.newThisWeek||0}),a.jsx(de,{"code-path":"src/admin/components/AdminLayout.tsx:338:15",label:"Sponsors",value:v?.sponsors?.total||0,trend:v?.sponsors?.newThisMonth||0})]}),a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:346:13",className:"space-y-1",children:[a.jsx("p",{"code-path":"src/admin/components/AdminLayout.tsx:347:15",className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider px-3 mb-2",children:"Quick Links"}),a.jsxs(A,{"code-path":"src/admin/components/AdminLayout.tsx:350:15",variant:"ghost",className:"w-full justify-start text-sm",onClick:()=>i("/admin/talent?status=pending"),children:[a.jsx($,{"code-path":"src/admin/components/AdminLayout.tsx:355:17",className:"w-4 h-4 mr-2"}),"Pending Reviews",v&&v.talent?.pending>0&&a.jsx(T,{"code-path":"src/admin/components/AdminLayout.tsx:358:19",variant:"destructive",className:"ml-auto text-xs",children:v.talent.pending})]}),a.jsxs(A,{"code-path":"src/admin/components/AdminLayout.tsx:363:15",variant:"ghost",className:"w-full justify-start text-sm",onClick:()=>i("/admin/messages?status=unread"),children:[a.jsx(B,{"code-path":"src/admin/components/AdminLayout.tsx:368:17",className:"w-4 h-4 mr-2"}),"Unread Messages",b>0&&a.jsx(T,{"code-path":"src/admin/components/AdminLayout.tsx:371:19",variant:"destructive",className:"ml-auto text-xs",children:b})]})]}),m&&a.jsx("div",{"code-path":"src/admin/components/AdminLayout.tsx:380:15",className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-800",children:a.jsxs("p",{"code-path":"src/admin/components/AdminLayout.tsx:381:17",className:"text-xs text-muted-foreground px-3",children:["Last updated: ",ds(m.toISOString())]})})]})}),a.jsx("main",{"code-path":"src/admin/components/AdminLayout.tsx:390:9",className:"flex-1 lg:ml-64 min-h-[calc(100vh-64px)]",children:a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:391:11",className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[(e||s||o)&&a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:394:15",className:"mb-8 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:395:17",children:[e&&a.jsx("h1",{"code-path":"src/admin/components/AdminLayout.tsx:396:29",className:"text-2xl font-bold tracking-tight",children:e}),s&&a.jsx("p",{"code-path":"src/admin/components/AdminLayout.tsx:397:32",className:"text-muted-foreground mt-1",children:s})]}),o&&a.jsx("div",{"code-path":"src/admin/components/AdminLayout.tsx:399:29",className:"flex items-center gap-2",children:o})]}),t]})})]})]})}function hs({navItems:t,getIsActive:e,metrics:s,onClose:o}){return a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:423:5",className:"flex flex-col h-full",children:[a.jsx("div",{"code-path":"src/admin/components/AdminLayout.tsx:425:7",className:"p-4 border-b border-gray-200 dark:border-gray-800",children:a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:426:9",className:"flex items-center gap-3",children:[a.jsx("div",{"code-path":"src/admin/components/AdminLayout.tsx:427:11",className:"w-9 h-9 rounded-lg bg-gradient-to-br from-rose-500 to-orange-500 flex items-center justify-center",children:a.jsx(fe,{"code-path":"src/admin/components/AdminLayout.tsx:428:13",className:"w-5 h-5 text-white"})}),a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:430:11",children:[a.jsx("h1",{"code-path":"src/admin/components/AdminLayout.tsx:431:13",className:"font-bold",children:"Recommend Her"}),a.jsx("p",{"code-path":"src/admin/components/AdminLayout.tsx:432:13",className:"text-xs text-muted-foreground",children:"Admin Dashboard"})]})]})}),a.jsx("nav",{"code-path":"src/admin/components/AdminLayout.tsx:438:7",className:"flex-1 p-4 space-y-1",children:t.map(r=>a.jsxs(ue,{"code-path":"src/admin/components/AdminLayout.tsx:440:11",to:r.path,onClick:o,className:w("flex items-center gap-3 px-3 py-3 rounded-lg text-sm font-medium transition-colors",e(r.path)?"bg-rose-50 text-rose-600 dark:bg-rose-950/30 dark:text-rose-400":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800"),children:[a.jsx(r.icon,{"code-path":"src/admin/components/AdminLayout.tsx:451:13",className:"w-5 h-5"}),r.label,r.badge?a.jsx(T,{"code-path":"src/admin/components/AdminLayout.tsx:454:15",variant:"secondary",className:"ml-auto",children:r.badge}):null]},r.path))}),a.jsx("div",{"code-path":"src/admin/components/AdminLayout.tsx:463:7",className:"p-4 border-t border-gray-200 dark:border-gray-800",children:a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:464:9",className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:465:11",className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3",children:[a.jsx("p",{"code-path":"src/admin/components/AdminLayout.tsx:466:13",className:"text-xs text-muted-foreground",children:"Total Talent"}),a.jsx("p",{"code-path":"src/admin/components/AdminLayout.tsx:467:13",className:"text-lg font-bold",children:s?.talent?.total||0})]}),a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:469:11",className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3",children:[a.jsx("p",{"code-path":"src/admin/components/AdminLayout.tsx:470:13",className:"text-xs text-muted-foreground",children:"Sponsors"}),a.jsx("p",{"code-path":"src/admin/components/AdminLayout.tsx:471:13",className:"text-lg font-bold",children:s?.sponsors?.total||0})]})]})})]})}function de({label:t,value:e,trend:s}){return a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:491:5",className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3",children:[a.jsx("p",{"code-path":"src/admin/components/AdminLayout.tsx:492:7",className:"text-xs text-muted-foreground",children:t}),a.jsxs("div",{"code-path":"src/admin/components/AdminLayout.tsx:493:7",className:"flex items-baseline gap-1",children:[a.jsx("p",{"code-path":"src/admin/components/AdminLayout.tsx:494:9",className:"text-lg font-bold",children:e}),s?a.jsxs("span",{"code-path":"src/admin/components/AdminLayout.tsx:496:11",className:"text-xs text-green-600 font-medium",children:["+",s]}):null]})]})}function ea({className:t}){return a.jsxs("div",{"code-path":"src/admin/components/LoadingSkeleton.tsx:19:5",className:w("space-y-8",t),children:[a.jsxs("div",{"code-path":"src/admin/components/LoadingSkeleton.tsx:21:7",className:"space-y-2",children:[a.jsx(S,{"code-path":"src/admin/components/LoadingSkeleton.tsx:22:9",className:"h-8 w-64"}),a.jsx(S,{"code-path":"src/admin/components/LoadingSkeleton.tsx:23:9",className:"h-4 w-96"})]}),a.jsx("div",{"code-path":"src/admin/components/LoadingSkeleton.tsx:27:7",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,s)=>a.jsx(gs,{"code-path":"src/admin/components/LoadingSkeleton.tsx:29:11"},s))}),a.jsxs("div",{"code-path":"src/admin/components/LoadingSkeleton.tsx:34:7",className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(q,{"code-path":"src/admin/components/LoadingSkeleton.tsx:35:9"}),a.jsx(q,{"code-path":"src/admin/components/LoadingSkeleton.tsx:36:9"})]}),a.jsxs("div",{"code-path":"src/admin/components/LoadingSkeleton.tsx:40:7",className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(q,{"code-path":"src/admin/components/LoadingSkeleton.tsx:41:9",className:"lg:col-span-2"}),a.jsx(q,{"code-path":"src/admin/components/LoadingSkeleton.tsx:42:9"})]})]})}function gs({className:t}){return a.jsx(he,{"code-path":"src/admin/components/LoadingSkeleton.tsx:58:5",className:w("overflow-hidden",t),children:a.jsx(ge,{"code-path":"src/admin/components/LoadingSkeleton.tsx:59:7",className:"p-6",children:a.jsxs("div",{"code-path":"src/admin/components/LoadingSkeleton.tsx:60:9",className:"flex items-start justify-between",children:[a.jsxs("div",{"code-path":"src/admin/components/LoadingSkeleton.tsx:61:11",className:"space-y-2",children:[a.jsx(S,{"code-path":"src/admin/components/LoadingSkeleton.tsx:62:13",className:"h-4 w-24"}),a.jsx(S,{"code-path":"src/admin/components/LoadingSkeleton.tsx:63:13",className:"h-8 w-16"}),a.jsx(S,{"code-path":"src/admin/components/LoadingSkeleton.tsx:64:13",className:"h-3 w-20"})]}),a.jsx(S,{"code-path":"src/admin/components/LoadingSkeleton.tsx:66:11",className:"h-10 w-10 rounded-lg"})]})})})}function q({className:t,rows:e=3}){return a.jsxs(he,{"code-path":"src/admin/components/LoadingSkeleton.tsx:84:5",className:t,children:[a.jsxs(Ke,{"code-path":"src/admin/components/LoadingSkeleton.tsx:85:7",children:[a.jsx(S,{"code-path":"src/admin/components/LoadingSkeleton.tsx:86:9",className:"h-5 w-32"}),a.jsx(S,{"code-path":"src/admin/components/LoadingSkeleton.tsx:87:9",className:"h-4 w-48"})]}),a.jsx(ge,{"code-path":"src/admin/components/LoadingSkeleton.tsx:89:7",className:"space-y-4",children:Array.from({length:e}).map((s,o)=>a.jsxs("div",{"code-path":"src/admin/components/LoadingSkeleton.tsx:91:11",className:"flex items-center gap-4",children:[a.jsx(S,{"code-path":"src/admin/components/LoadingSkeleton.tsx:92:13",className:"h-10 w-10 rounded-lg"}),a.jsxs("div",{"code-path":"src/admin/components/LoadingSkeleton.tsx:93:13",className:"flex-1 space-y-1",children:[a.jsx(S,{"code-path":"src/admin/components/LoadingSkeleton.tsx:94:15",className:"h-4 w-full"}),a.jsx(S,{"code-path":"src/admin/components/LoadingSkeleton.tsx:95:15",className:"h-3 w-2/3"})]})]},o))})]})}function ta({className:t,rows:e=5,columns:s=5}){return a.jsxs("div",{"code-path":"src/admin/components/LoadingSkeleton.tsx:120:5",className:w("space-y-4",t),children:[a.jsxs("div",{"code-path":"src/admin/components/LoadingSkeleton.tsx:122:7",className:"flex items-center gap-4",children:[a.jsx(S,{"code-path":"src/admin/components/LoadingSkeleton.tsx:123:9",className:"h-9 w-64"}),a.jsx("div",{"code-path":"src/admin/components/LoadingSkeleton.tsx:124:9",className:"flex-1"}),a.jsx(S,{"code-path":"src/admin/components/LoadingSkeleton.tsx:125:9",className:"h-9 w-24"}),a.jsx(S,{"code-path":"src/admin/components/LoadingSkeleton.tsx:126:9",className:"h-9 w-24"})]}),a.jsxs("div",{"code-path":"src/admin/components/LoadingSkeleton.tsx:130:7",className:"rounded-md border",children:[a.jsx("div",{"code-path":"src/admin/components/LoadingSkeleton.tsx:131:9",className:"border-b bg-muted/50 p-4",children:a.jsx("div",{"code-path":"src/admin/components/LoadingSkeleton.tsx:132:11",className:"flex items-center gap-4",children:Array.from({length:s}).map((o,r)=>a.jsx(S,{"code-path":"src/admin/components/LoadingSkeleton.tsx:134:15",className:w("h-4",r===0?"w-32":"w-24")},r))})}),a.jsx("div",{"code-path":"src/admin/components/LoadingSkeleton.tsx:141:9",className:"divide-y",children:Array.from({length:e}).map((o,r)=>a.jsx("div",{"code-path":"src/admin/components/LoadingSkeleton.tsx:143:13",className:"flex items-center gap-4 p-4",children:Array.from({length:s}).map((c,m)=>a.jsx(S,{"code-path":"src/admin/components/LoadingSkeleton.tsx:145:17",className:w("h-4",m===0?"w-32":"w-24")},m))},r))})]})]})}export{Zs as A,Cs as B,qs as C,$s as D,Bs as E,q as F,Le as M,ce as R,ea as S,oe as T,Gs as a,Ws as b,Ks as c,zs as d,Fs as e,ds as f,Ts as g,Us as h,ta as i,Et as j,Hs as k,Vs as l,Rs as m,Dt as n,Xs as o,Js as p,Ps as q,Mt as r,h as s,Os as t,ps as u,Qs as v,Ys as w,It as x,_t as y,Nt as z};
